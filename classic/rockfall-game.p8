pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
--rockfall
--  by gpi

edition,author="classic","pETER lIEPA"

?"\^@5f580001▒\^@56000800⁴⁵⁷\0\0¹\0\0\0\0\0\0\0`w\0g \0aw\0⁶⁶\0\0\0\0\0fw⁷¹\0\0\0`⁷'\0\0\0\0 \0pp\0\0\0\0▮`\0 ■▮\0▮!\0\0⁶q33⁙■⁙3□⁙3⁙33■133R\0qu⁷▶7wwfvPf▶□sw⁷w¹wwfw¹w⁷w¹\0p\0w⁷w¹wwfw\0\0\0p¹\0pp\0⁷⁷⁷⁷⁷\0\0\0\0⁷⁷⁷\0\0\0\0\0⁷⁵⁷\0\0\0\0\0⁵²⁵\0\0\0\0\0⁵\0⁵\0\0\0\0\0⁵⁵⁵\0\0\0\0⁴⁶⁷⁶⁴\0\0\0¹³⁷³¹\0\0\0⁷¹¹¹\0\0\0\0\0⁴⁴⁴⁷\0\0\0⁵⁷²⁷²\0\0\0\0\0¹\0\0\0\0\0\0\0\0¹²\0\0\0\0\0\0³³\0\0\0⁵⁵\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0¹¹¹\0¹\0\0\0⁵⁵\0\0\0\0\0\0\n゜\n゜\n\0\0\0²⁷³⁶⁷²\0\0⁵⁴²¹⁵\0\0\0²⁵ᵉ⁵ᵉ\0\0\0¹¹\0\0\0\0\0\0²¹¹¹²\0\0\0¹²²²¹\0\0\0⁵²⁷²⁵\0\0\0\0²⁷²\0\0\0\0\0\0\0\0¹¹\0\0\0\0⁷\0\0\0\0\0\0\0\0\0¹\0\0\0⁴⁴²¹¹\0\0\0²⁵⁵⁵²\0\0\0²³²²⁷\0\0\0³⁴²¹⁷\0\0\0³⁴²⁴³\0\0\0⁵⁵⁷⁴⁴\0\0\0⁷¹³⁴³\0\0\0⁶¹³⁵²\0\0\0⁷⁴⁴²²\0\0\0²⁵²⁵²\0\0\0²⁵⁶⁴³\0\0\0\0¹\0¹\0\0\0\0\0\0¹\0¹¹\0\0\0²¹²\0\0\0\0\0³\0³\0\0\0\0\0¹²¹\0\0\0\0³⁴²\0²\0\0\0⁶\t\r¹⁶\0\0\0\0³⁶⁵⁷\0\0\0¹³⁵⁵³\0\0\0\0⁶¹¹⁶\0\0\0⁴⁶⁵⁵⁶\0\0\0\0²⁵³⁶\0\0\0⁴²⁷²²\0\0\0\0⁶⁵⁶⁴³\0\0¹¹³⁵⁵\0\0\0¹\0¹¹¹\0\0\0²\0²²²¹\0\0¹⁵³⁵⁵\0\0\0¹¹¹¹²\0\0\0\0ᶠ‖‖‖\0\0\0\0³⁵⁵⁵\0\0\0\0²⁵⁵²\0\0\0\0³⁵⁵³¹\0\0\0⁶⁵⁵⁶⁴\0\0\0³⁵¹¹\0\0\0\0⁶³⁶³\0\0\0²⁷²²⁶\0\0\0\0⁵⁵⁵²\0\0\0\0⁵⁵⁵³\0\0\0\0■■‖\n\0\0\0\0⁵²⁵⁵\0\0\0\0⁵⁵⁵⁶³\0\0\0⁷⁶³⁷\0\0\0³¹¹¹³\0\0\0¹²²²⁴\0\0\0³²²²³\0\0\0²⁵\0\0\0\0\0\0\0\0\0\0⁷\0\0\0²⁴\0\0\0\0\0\0²⁵⁷⁵⁵\0\0\0³⁵³⁵³\0\0\0⁶¹¹¹⁶\0\0\0³⁵⁵⁵³\0\0\0⁷¹³¹⁷\0\0\0⁷¹³¹¹\0\0\0ᵉ¹\r\t⁶\0\0\0⁵⁵⁷⁵⁵\0\0\0¹¹¹¹¹\0\0\0⁴⁴⁴⁵²\0\0\0⁵⁵³⁵⁵\0\0\0¹¹¹¹⁷\0\0\0■•‖■■\0\0\0\tᵇᶠ\r\t\0\0\0⁶\t\t\t⁶\0\0\0³⁵³¹¹\0\0\0⁶\t\t\r⁶⁸\0\0³⁵³⁵⁵\0\0\0⁶¹²⁴³\0\0\0⁷²²²²\0\0\0\t\t\t\t⁶\0\0\0\t\t\t⁵²\0\0\0■■‖•■\0\0\0⁵⁵²⁵⁵\0\0\0⁵⁵²²²\0\0\0⁷⁴²¹⁷\0\0\0⁶²¹²⁶\0\0\0¹¹\0¹¹\0\0\0³²⁴²³\0\0\0\0\0\n⁵\0\0\0\0³³\0\0\0\0\0\0○○○○○○\0\0U*U*U*\0\0A○]]>\0\0\0>ccw>\0\0\0■D■D■D\0\0²゛ᵉᶠ⁸\0\0\0ᵉ▶゜゜ᵉ\0\0\0•゜゜ᵉ⁴\0\0\0、6w6、\0\0\0ᵉᵉ゜ᵉ\n\0\0\0、>○*:\0\0\0>gcg>\0\0\0?-?!?\0\0\0、⁴⁴⁷⁷\0\0\0>ckc>\0\0\0⁴ᵉ゜ᵉ⁴\0\0\0\0\0U\0\0\0\0\0>scs>\0\0\0⁸、○>\"\0\0\0゜ᵉ⁴ᵉ゜\0\0\0>wcc>\0\0\0\0⁵R \0\0\0\0\0■*D\0\0\0\0>kwk>\0\0\0゜\0゜\0゜\0\0\0‖‖‖‖‖\0\0⁴ᵉ゜\0\0\0\0\0002U7T3\0○\0b‖▶⁘c\0○\0002UWT3\0○\0r‖w⁘s\0○\0r‖w⁘⁙\0○\0²⁵⁵²(「(\0\0\0¹\0¹¹¹\0\0\0⁴ᵉ⁵ᵉ⁴\0\0ᶜ²⁷²ᶠ\0\0\0■ᵉ\nᵉ■\0\0⁵⁵²⁷²\0\0\0\0¹¹\0¹¹\0\0\0⁶³⁵⁶³\0\0⁵\0\0\0\0\0\0\0⁶\t\r\t⁶\0\0\0\0³⁶⁵⁷\0\0\0\0\0□\t□\0\0\0\0\0\0⁷⁴\0\0\0002UWU5\0○\0³⁵³⁵\0\0\0\0\0⁷\0\0\0\0\0\0\0²⁵²\0\0\0\0\0²⁷²\0⁷\0\0³²¹³\0\0\0\0¹³²¹\0\0\0\0\0²¹\0\0\0\0\0\0\0\0⁵⁵³¹\0\0ᶠᵇᵇ\n\n\0\0\0\0\0¹\0\0\0\0\0\0\0\0\0²³\0²³²²\0\0\0\0²⁵²\0\0\0\0\0\0\0\t□\t\0\0\0\0■\t⁵*9 \0\0■\t。□\t「\0\0!⁙\nUr@\0\0\0²\0²¹⁶\0²⁴³⁶⁵⁷\0\0²¹³⁶⁵⁷\0\0²⁵³⁶⁵⁷\0\0\n⁵³⁶⁵⁷\0\0⁵\0³⁶⁵⁷\0\0²\0³⁶⁵⁷\0\0\0\0ᵇ◀\r゜\0\0\0\0\0ᵉ¹ᵉ⁴\0²⁴²⁵³⁶\0\0²¹²⁵³⁶\0\0²⁵²⁵³⁶\0\0⁵\0²⁵³⁶\0\0¹²\0\0²²\0\0²¹\0\0¹¹\0\0²⁵\0\0²²\0\0⁵\0\0\0²²\0\0\0ᵉ□▶□ᵉ\0\0\n⁵\0⁷\t\t\0\0¹²\0²⁵²\0\0⁴²\0²⁵²\0\0²⁵\0²⁵²\0\0\n⁵\0⁶\t⁶\0\0⁵\0\0²⁵²\0\0\0\0⁵²⁵\0\0\0\0▮ᵉ‖□\r\0\0²⁴\0\t\t⁶\0\0⁴²\0\t\t⁶\0\0⁶\t\0\t\t⁶\0\0\t\0\0\t\t⁶\0\0⁴²\0⁵⁵⁶³\0\0¹⁵ᵇᵇ⁵¹\0\0⁶\t⁵\t⁵\0\0²⁴²⁵⁷⁵\0\0²¹²⁵⁷⁵\0\0²⁵²⁵⁷⁵\0\0\n⁵⁶\tᶠ\t\0\0⁵\0²⁵⁷⁵\0\0²\0²⁵⁷⁵\0\0\0゛⁵ᶠ⁵。\0\0\0ᵉ¹¹¹ᵉ⁴\0²⁴⁷³¹⁷\0\0²¹⁷³¹⁷\0\0²⁵⁷³¹⁷\0\0⁵\0⁷³¹⁷\0\0¹²\0²²²\0\0²¹\0¹¹¹\0\0²⁵\0²²²\0\0⁵\0\0²²²\0\0²⁵ᵉ\t\t⁶\0\0\n⁵\tᵇ\r\t\0\0²⁴⁶\t\t⁶\0\0⁴²⁶\t\t⁶\0\0²⁵⁶\t\t⁶\0\0\n⁵⁶\t\t⁶\0\0\t\0⁶\t\t⁶\0\0\0²\0⁷\0²\0\0\0◀\t‖□\r\0\0²⁴\t\t\t⁶\0\0⁴²\t\t\t⁶\0\0²⁵⁸\t\t⁶\0\0\t\0\t\t\t⁶\0\0⁴²⁵⁵²²\0\0\0¹⁷\t\t⁷¹\0⁵\0⁵⁵²²\0\0"
?"\^@4331063ac⁶3`0れ³⬇️1▤¹\0\0\0\0\0c⁶3`0ネ⁷れqヲ¹\0\0\0\0\0cを◝ヲ¹c⁶ネナユら\0\0\0\0\0cを◝ヲ▒c⁶cら`ら\0\0\0\0\0³\0003xらり⁙`らヲヨ³ュ\0\0\0³\0003xナら•`らヲヨ³ュ\0\0\0\0ら◝ナq`ᵉ`ら`ら\0\0\0\0\0\0ら◝ナ1`ᵉナナユら\0\0\0\0\0³\0003ヲ1ネ゜らqヲ¹`\0「\0\0³\0003ヲ1れ⁙█1▤¹`\0「\0\0\0\0\0`\0\0\0\0\0\0\0`\0\0\0\0\0\0\0`\0\0\0\0\0\0\0`\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0`x`ユニれ😐゜゛~xユ\0\0\0\0`ュpユネん😐゜゜~ュヲ¹\0\0\0000アx\0³を😐¹³`ア▤1\0ネ¹0アx\0³を😐¹³`ア▤1█ネ¹「ア`█⬇️れ◆ᶠ゜0xヲ¹を\0\0「ア`ら▒れ◆゜?0xユ¹を\0\0ᶜア`ナ\0⁶ᶜ「30ア█1█ネ¹ᶜア`p\0⁶ᶜ「3「ア█1\0ネ¹⁶ュヲヨネ⁷😐゜?「ュユ¹⁶\0\0⁶xヲヨネ³😐ᶠ゛「xユ\0⁶\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0⁶\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0⁶\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0ᶠx\0`\0\0「\0000\0「0「³⁶\0゜ュ\0`\0\0「\0008\0「0「³⁶⁶0●ヨニ⬇️ᶠ゜゛「ヲ「\0\0003⁶ᵉ0●ヨネん◆゜?「ュ「\0\0;⁶「、ヒ¹cを█」3~アヲ0「゜⁶「ᶜヒニcを█」?~アヲ1「゜⁶ᵉᶜ⁶ユcを█」゜「ュ▤1「;⁶⁶\0⁶0cを█」³「ヲ▤1「3⁶\0ᶜ|ユネん◆゜?「ら▤1「3゛\0ᶜxナネ⬇️ᶠ゜>「ら▤1、3、\0\0\0\0\0\0\0\0\0\0x\0\0ᵉ\0\0\0\0\0\0\0\0\0\0\0\0008\0\0⁶\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0ら\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0ら\0\0\0\0\0\0\0◜れ⁷ᶠ゜|<ユヨcを😐▒1c⁶◜ん◆゜?~|ヲヨcを😐▒1c⁶fを😐」3fア「ら`を😐▒ニa⁶fを😐」3fアヲら`を😐▒り`⁶fを😐」3fᶜユり`を😐▥ニa⁶fを😐」3fᶜ█り`●♥や1ネ⁷fを😐゜?~ᶜヲりネ♥♥フ1れ⁷fをᶜᶠ゜|ᶜヲ█れ³³れ0³⁶\0\0\0\0³`\0\0\0\0\0\0\0\0ナ³\0\0\0\0³`\0\0\0\0\0\0\0\0ナ¹\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0<⁶<「\0`ナニ⬇️◆⁷?~ヲ³\0<⁶<<\0ナユネん◆ᶠ?~ュ³~ᶜᶜ0f\0ら1cを█」³⁶ᶜ\0~ᶜᶜ0f\0█1cを█」³⁶ᶜ\0pᶜ「0\0\0\0ユネれ█」ᶠ゛ア³8ᶜ「0\0\0\0ユネれ█」ᶠ゛ア³、ᶜ00\0\0\0000cを█」³⁶ᶜ³ᵉᶜ00\0\0\0000cを█」³⁶ᶜ³~<`<\0ュ\0000ネん◆ᶠ?⁶ュ³~<`<\0ュ\0000ネ⬇️◆⁷?⁶ヲ¹\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0fᶜ「3⁶ᶜ😐aヲニ⬇️゜>ヲヲ¹fᶜ「3⁶、🅾️aュネん?~ュヲ¹fᶜ「•⁶<◆cᶜcを0fᶜ`\0fᶜ「•⁶ュ◆gᶜcを0f、`\0~ᶜ「ᶠ⁶ム♪oᶜネん0>8`\0~ᶜ「ᶠ⁶ア😐}ᶜネれ0>p`\0f😐」•⁶ᶜ😐yᶜcら0fナ`\0f😐」•⁶ᶜ😐qᶜcら<fら`\0f😐゜3~ᶜ😐aュcら?fュ`\0fᶜᶠ3~ᶜ😐aヲa█゜f|`\0\0\0\0\0\0\0\0\0\0\0\0008\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0000\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0●1😐▒1cをᶠ゛ネ¹\0゛\0\0\0●1😐▒1cをᶠ゛ネ¹\0゛\0\0\0●1😐▒1c⁶ᶜ⁶⬇️¹\0゛\0\0\0●1😐▒ニニ⁷ᵉ⁷⬇️³\0゛\0\0\0●1😐▥りら³♥³\0⁷3\0\0\0\0●1😐やニ▒▒⬇️³\0♥?\0\0\0\0●q🅾️◝1⬇️り¹⁷⬇️れ゜\0\0\0\0●ニ♥フ1⬇️り\0⁶⬇️りᶜ\0\0\0\0◜り⬇️れ1⬇️りᶠ゛ネ¹\0\0\0\0\0ュ█▒▒1⬇️りᶠ゛ネ¹"

cartdata("3e55a5f5fba544bf81884139723d1cda-rockfall-"..edition)

_sgn=sgn function sgn(a) return a==0 and 0 or _sgn(a) end

function limit(x,low,high)
 return (x-low)%(high-low+1)+low
end

function printo(s,...)
 for i in all(split'\-f\fe,\-h\fe,\|f\fe,\|h\fe') do
  ?i..s,...
 end
 return ?s,...
end

function printoc(s,x,...)
 return printo(s,x-print(s,0,0x8000)\2,...)
end
function printor(s,x,...)
 return printo(s,x-print(s,0,0x8000),...)
end

function printbigc(s,x,y,c)
 local w=0
 s=tostr(s)
 for i=1,#s do
  w+=(fontbig[ord(s,i)] or fontbig[32])[3]-2
 end
 x-=w\2

global[[
poke(0x5f54,0x80)
]]
 for b in all(blackborder) do
  local xx=x
  local dx,dy=unpack(b)
  pal(7,dx+dy==0 and c or 14)
  for i=1,#s do
   local tx,ty,tw=unpack(fontbig[ord(s,i)] or fontbig[33])
   sspr(tx+dx,ty+dy,tw,14,xx,y+1)
   xx+=tw-2
  end
 end 
global[[
pal(7,7)
poke(0x5f54,0x00)
]] 
 
 return x
end


function usplit(...)
 return unpack(split(...))
end

function tstr(t)
 if (type(t)!="table") return tostr(t)
 local s=""
 for v in all(t) do
  s..=","..tostr(v)
 end
 return sub(s,2)
end

function tcpy(t)
 return {unpack(t)}
end
function tsub(t,a,b)
 local r={}
 for i=a,b or #t do
  add(r,t[i])
 end
 return r
end
function tsplit(t,a)
 local r={}
 for i=1,#t,a do
  add(r,tsub(t,i,i+a-1))
 end
 return r
end

function _tableat(v)
 local x=_ENV
 for l in all(split(sub(v,2),".")) do x=x[l] end
 return x
end

function table(str,t)
 local oldt,vt,tsave={}
 t=t or {}
 for l in all(split(str,"\n")) do
  if l!="" and sub(l,1,2)!="--" then
   local k,v=usplit(l,"=")
   
   
   if k=="}" then
    t=oldt[#oldt]
    deli(oldt)
   else
    if (not v) k,v=#t+1,k
    local kk,vv=usplit(v,"(")
    if vv then
     vv=table(sub(vv,1,#vv-1)..",")[1]
     deli(vv,#vv)
     t[k]=_ENV[kk](unpack(vv))
     
    else
     tsave=t
     if ord(k)==34 then
      k=sub(k,2,#k-1)
     else
      
      repeat 
       local a,b=usplit(k,".")
       if(b) t=_ENV[a] k=b
      until not b
     end
     
     vt=split(v) 
     if #vt>1 then
      for k,v in pairs(vt) do 
       if (ord(v)==64) vt[k]=_tableat(v)
      end
      t[k]=vt
     elseif ord(v)==64 then
      t[k]=_tableat(v)
     else  
      t[k] = ord(v)==34 and sub(v,2,#v-1) or ord(v)==123 and {} or v=="true" and true or v!="false" and v or false
      if (v=="{") add(oldt,t) tsave=t[k]
     end     
     t=tsave
     
    end
   end
   
  end
  
 end

 return t
end
function global(str) table(str,_ENV) end

function call(name,...)
 if (_ENV[name]) return _ENV[name](...)
end  

global[[

statmin=9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9
statmax=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

gemsound=0xfc,0xfa,0x4f,0xf9,0xff

cave_flags={
ismap=0x01
intermission=0x02
loopx=0x04
loopy=0x08
valid=0x80
}
cave_flag_valid=0x80

startcave=1
startlevel=1
speed=2

speedframe=6,8,12,16,20,24

blackborder={
1=-1,0
2=1,0
3=0,-1
4=0,1
5=0,0
}

fontbig={
32=0,2,7
33=7,2,5
34=12,2,9
35=21,2,13
36=34,2,9
37=43,2,9
38=52,2,11
39=63,2,5
40=68,2,7
41=75,2,7
42=82,2,9
43=91,2,9
44=100,2,5
45=105,2,9
46=114,2,5
47=0,17,9
48=9,17,9
49=18,17,9
50=27,17,9
51=36,17,9
52=45,17,9
53=54,17,9
54=63,17,9
55=72,17,9
56=81,17,9
57=90,17,9
58=99,17,5
59=104,17,5
60=109,17,7
61=116,17,7
62=0,32,7
63=7,32,9
64=16,32,11
65=27,32,9
66=36,32,9
67=45,32,9
68=54,32,9
69=63,32,9
70=72,32,9
71=81,32,9
72=90,32,9
73=99,32,5
74=104,32,7
75=111,32,9
76=120,32,7
77=0,47,13
78=13,47,9
79=22,47,9
80=31,47,9
81=40,47,9
82=49,47,9
83=58,47,9
84=67,47,9
85=76,47,9
86=85,47,9
87=94,47,13
88=107,47,9
89=116,47,9
90=0,62,9
91=9,62,7
92=16,62,9
93=25,62,7
94=32,62,9
95=41,62,9
96=50,62,9
97=59,62,9
98=68,62,9
99=77,62,9
100=86,62,9
101=95,62,9
102=104,62,9
103=113,62,11
104=0,77,9
105=9,77,5
106=14,77,9
107=23,77,9
108=32,77,9
109=41,77,13
110=54,77,11
111=65,77,11
112=76,77,9
113=85,77,11
114=96,77,9
115=105,77,9
116=114,77,9
117=0,92,11
118=11,92,11
119=22,92,13
120=35,92,9
121=44,92,9
122=53,92,9
123=62,92,9
124=71,92,5
125=76,92,9
126=85,92,11
}

block2id={
0=0
16=1
17=2
3=3
18=4
22=5
24=6
20=7
9=8
7=9
8=10
11=11
21=12
5=1
19=1
}
id2block={
16
17
3
18
22
24
20
9
7
8
11
21
0=0
}

flag_last=13
flag_above=14
flag_dirt=15
flag_first=13


demodiv=5
demomaxstep=51
demomove={
0=s
1=l
2=r
3=d
4=u

s=0
l=1
r=2
d=3
u=4
}


livesforscore=500

indexmem=0x2081,0x20a1,0x20c1,0x20e1,0x2b01,0x2b21,0x2b41,0x2b61,0x1581,0x15a1,0x15c1,0x15e1

_frame=0

allowed_move={
0=true
16=true
3=true
}

amoeba_move={
0=true
16=true
}

is_enemy={
9=true
7=true
}

enemy_touchexplode={
5=true
8=true
11=true
}

enemy_notattach={
0=true
9=true
7=true
}



flag_visible=1

is_fallable={
3=true
131=true
20=true
148=true
}
is_glide={
18=true
146=true
3=true
131=true
20=true
148=true
}
is_moveable={
20=true
}
is_indestructible={
19=true
147=true
6=true
134=true
17=true
136=true
}


sfxnb={
rock=0
gem=1
explosion=2
collect=3
steps=4
exitopen=5
spawn=6
exit=7
bonus=8
amoeba=9
wallmagic=10
ding=11
dong=12
timeout=13
trans=14
oneup=15
burning=16
}
sfx_rock=0
sfx_gem=1
sfx_explosion=2
sfx_collect=3
sfx_steps=4
sfx_exitopen=5
sfx_spawn=6
sfx_exit=7
sfx_bonus=8
sfx_amoeba=9
sfx_wallmagic=10
sfx_ding=11
sfx_dong=12
sfx_timeout=13
sfx_trans=14
sfx_oneup=15
sfx_burning=16

anim={
0x0800
0x0a00
0x0c00
0x0e00
explosion=48,49,50,51,52,53,54
plyright=65,81,97,113
plystand=69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,117
plyboring=85,85,85,69,69,69,85,85,85,69,69,69,85,85,85,69,69,117
plymove=66,82,98,114
plyup=96,117,112,117
plydown=64,69,80,69
wallmagic=67,20,83,20,99,20,115,20
dirtleft=32,33,34
dirtdown=35,36,37
dirtright=38,39,40
dirtup=41,42,43
inbox=19,19
}

block={
void=0
VOID=0
vOID=0
space=0
SPACE=0
sPACE=0
dirt=16
DIRT=16
dIRT=16
metal=17
mETAL=17
METAL=17
steelwall=17
sTEELWALL=17
STEELWALL=17
steel=17
sTEEL=17
STEEL=17
gem=3
gEM=3
GEM=3
wall=18
wALL=18
WALL=18
wallgrow=21
wALLGROW=21
WALLGROW=21
wallmagic=22
wALLMAGIC=22
WALLMAGIC=22
magicwall=22
mAGICWALL=22
MAGICWALL=22
wallmagicon=10
eraserwall=24
ERASERWALL=24
eRASERWALL=24
walleraser=24
wALLERASER=24
WALLERASER=24
eRASER=24
ERASER=24
player=5
pLAYER=5
PLAYER=5
inbox=5
exit=19
outbox=19
exitopen=6
rock=20
ROCK=20
rOCK=20
boulder=20
bOULDER=20
BOULDER=20
butterfly=9
bUTTERFLY=9
BUTTERFLY=9
firefly=7
fIREFLY=7
FIREFLY=7
amoeba=8
aMOEBA=8
AMOEBA=8
slime=11
sLIME=11
SLIME=11
metalanim=14

0=vOID
16=dIRT
17=mETAL
3=gEM
18=wALL
21=wALLGROW
22=mAGICWALL
10=wallmagicon
5=player
19=exit
6=exitopen
20=rOCK
9=bUTTERFLY
7=fIREFLY
8=aMOEBA
11=sLIME
12=metalanim
24=eRASER
}

interactive_neightbour={
0=true
10=true
11=true
}

interactive_block={
3=true
21=true
22=true
10=true
20=true
9=true
7=true
8=true
11=true
}

block_void=0
block_dirt=16
block_metal=17
block_gem=3
block_wall=18
block_wallgrow=21
block_wallmagic=22
block_wallmagicon=10
block_player=5
block_exit=19
block_exitopen=6
block_rock=20 
block_butterfly=9
block_firefly=7
block_amoeba=8
block_slime=11
block_metalanim=12
block_walleraser=24

move={
0,-1
1,0
0,1
-1,0
}
moveup=2,3,4,1
movedown=4,1,2,3

colors={
{
4=4
5=5
6=6
}
{
4=4
5=140
6=12
}
{
4=132
5=4
6=09
}
{
4=4
5=3
6=11
}
{
4=5
5=2
6=8
}
{
4=132
5=134
6=15
}
{
4=4
5=141
6=14
}

}

header={
name,cave
size,40,22
{
intermission
false
}
{
loopx
false
}
{
loopy
false
}
needed,1,1,1,1,1
time,120,110,100,90,80
magicwalltime,30
amoeba_time,60
amoeba_fast,64
amoeba_slow,8
amoeba_limit,200
slime_permeability,32
player,1,0,2,0
seed,0,1,2,3,4
random,0,0,0,0,0,0,0,0
}
mapheadersize=14

lines={
point=1,0,0,0
line=2,0,0,0,0,0
rect=3,0,0,0,0,0,0
box=4,0,0,0,0,0
raster=5,0,0,0,0,0,0,0
add=6,0,0,0,0
rect1=7,0,0,0,0,0
1=point
2=line
3=rect
4=box
5=raster
6=add
7=rect1
}




blackpal=0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0


TRUE=true
FALSE=false
_rnd1=0
_rnd2=0
gamemode=""
deltaframe=8

camcenterdelta={
-1=1
0=.85
1=1
}

]]


function carryflag(x) 
 return x&0xff,x > 0xff and 1 or 0 
end

function random(d)
 local tmp1,tmp2,result,carry=(_rnd1&0x01)*0x80,(_rnd2>>1)&0x7f,carryflag(_rnd2 + (_rnd2&0x01)*0x80)
 _rnd2,carry=carryflag(result+carry+0x13)
 result,carry=carryflag(_rnd1+carry+tmp1) 
 _rnd1=carryflag(result+carry+tmp2)
 d=d or 256
 return tonum(d) and _rnd1%(d) or d[_rnd1%#d+1]
end

function prefix(x,l)
 x=tostr(x)
 while #x<l do x="0"..x end
 return x
end

function change_gamemode(mode)
call("exit_"..gamemode)
gamemode=mode
call("init_"..gamemode)
end

function _slvl(t)
 return not t and 0 or tonum(t) and t or t[mid(demo and 1 or level,1,#t)] 
end

function _init()
 global[[
poke(0x5f56,0xa0)
poke(0x5f36,0x10)
poke(0x5f5a,@block_metal)
pal(14,140,1)
pal(14,0,1)
caves_load()
call(caves_subtitle)
sound={}
_adr=32767.5
 ]] 
 for i=0x4300,0x4aff do
  for b=0,7 do
   write( (@i & (1<<b) !=0) and 7 or 0)
  end
 end

 change_gamemode(editor and "editorstart" or "title") 

end


function _update60()

 _frame+=1

 phase=_frame%deltaframe

 memcpy(0x000,anim[_frame\8%#anim+1],0x0200)

 call("update_"..gamemode) 

 if (sound.gem) poke(0x3244,rnd(gemsound)) 
    
 for k,v in pairs(sfxnb) do
  if (sound[k]) sfx(v,-2) sfx(v) sound[k]=false
 end
 

 
end

function _draw()
 cls()
 call("draw_"..gamemode) 
 camera()
 if (debuginfo) global[[printoc(@debuginfo,64,120,7)]]
end

-->8
--game

function loopxy(x,y)
 if (loopx) x+=x<1 and gamew2 or x>gamew2 and -gamew2 or 0
 if (loopy) y+=y<1 and gameh2 or y>gameh2 and -gameh2 or 0 
 return x,y
end


function draw_cave()

 local x,y,w,h=0,0,gamewidth,gameheight
 if (loopx) x,w=1,gamew2
 if (loopy) y,h=1,gameh2

 if (w-x<=16) camx=(16-w+x)*8
 if (h-y<=16) camy=(16-h+y)*8 
 
 local xs,xe,ys,ye=camx<=x*8 and -1 or 0,camx>=w*8-128 and 1 or 0,camy<=y*8 and -1 or 0,camy>=h*8-128 and 1 or 0
 
 
 for dx=xs,xe do
  for dy=ys,ye do
   camera(flr(camx+.5)-dx*w*8,flr(camy+.5)-dy*h*8)
   map(x,y,x*8,y*8,w,h,flag_visible)
   sprite_draw()
  end
 end
 
 camera()
end


function sprite_handle()
 for a in all(sprites_anim) do
  a.sframe+=1
  if a.sframe%2==0 then
   a.phase+=1
   if (a.phase>#a.anim) del(sprites_anim,a)
  end
 end

 local d=8/deltaframe
 step=ceil(phase*d)-ceil((phase-1)*d)

 ply_x,
 ply_y
 =
 mid(ply_x,ply_x2,ply_x+sgn(ply_x2-ply_x)*step),
 mid(ply_y,ply_y2,ply_y+sgn(ply_y2-ply_y)*step)

 for g in all(followgems) do
  g[2]+=sgn(ply_x+1-g[2])
  g[3]+=sgn(ply_y+1-g[3])
  if (g[2]==ply_x+1 and g[3]==ply_y+1) del(followgems,g)
 end

 for s in all(sprites) do
  s.x1,
  s.y1
  =
  mid(s.x1,s.x2,s.x1+sgn(s.x2-s.x1)*step),
  mid(s.y1,s.y2,s.y1+sgn(s.y2-s.y1)*step)

  if get(s.x2\8,s.y2\8)&0x7f!=s.typ then
   del(sprites,s)
  elseif s.x1==s.x2 and s.y1==s.y2 then
   del(sprites,s) 
   local x,y=loopxy(s.x1\8,s.y1\8)
   mset(x,y,s.typ)
  end
 end

end

function sprite_draw()

 for a in all(sprites) do
  spr(a.anim and a.anim[_frame\2%#a.anim+1] or a.typ,a.x1,a.y1,1,1,a.fx,a.fy)
 end

 if not (ply_finished and ply_x==ply_x2 and ply_y==ply_y2) and not ply_dead then
  spr(ply_anim[_frame\2%#ply_anim+1],ply_x,ply_y,1,1,ply_fx,ply_fy)
  for g in all(followgems) do
   spr(unpack(g))
  end
 elseif (ply_finished and ply_x==ply_x2 and ply_y==ply_y2) then
  spr(block_exit,ply_x,ply_y)
 end

 for a in all(sprites_anim) do
  spr(a.anim[a.phase],a.x,a.y)
 end
end

function sprite_move(x1,y1,x2,y2,md)
 typ=get(x1,y1)&0x7f
 set(x1,y1)
 set(x2,y2,typ|0x80,md)
 return add(sprites,{x1=x1*8,y1=y1*8,x2=x2*8,y2=y2*8,typ=typ})
end

function sprite_anim(x,y,anim)
 return add(sprites_anim,{x=x,y=y,anim=anim,phase=1,sframe=0})
end

function limit_camera(midx,midy)
 return loopx and midx or mid(0,gamewidth*8-128,midx), loopy and midy or mid(0,gameheight*8-128,midy)
end
function handle_camera()
 deltacamx,deltacamy=mid(deltacamx+cx,-48,48)*camcenterdelta[cx],mid(deltacamy+cy,-48,48)*camcenterdelta[cy]
 
 camx,camy=limit_camera(ply_x-60+deltacamx,ply_y-60+deltacamy)
end

function mdget(x,y)
 x,y=loopxy(x,y)
 return mapdata[x.."x"..y] or 0
end
function mdset(x,y,d)
 x,y=loopxy(x,y)
 mapdata[x.."x"..y]=d
end

function get(x,y)
 x,y=loopxy(x,y)
 local m=mget(x,y)
 return m,mapdata[x.."x"..y] or 0
end
function set(x,y,sp,d)
 x,y=loopxy(x,y)
 mset(x,y,sp)
 mapdata[x.."x"..y]=d 
end

function player_handle()
 

 if record then
  if (pause and btn(🅾️)) pause=false

 elseif demo then
  if (btnp(❎)) ply_dead="demo quit"

 end

 dx=btn(⬅️) and -1 or btn(➡️) and 1 or 0
 dy=btn(⬆️) and -1 or btn(⬇️) and 1 or 0

 
 if phase!=0 then
  if dx!=0 or dy!=0 then
   if (btn(❎) and btn❎!=old❎) forcedx,forcedy=dx,dy
   if (dx!=olddx or dy!=olddy)suggestx,suggesty=dx,dy
  end
  return false
 end
 
 ply_x,ply_y=loopxy(ply_x\8,ply_y\8)
 
 ply_x*=8
 ply_y*=8
 global[[
ply_x2=ply_x
ply_y2=ply_y
]]
 
 ply_x2,ply_y2=ply_x,ply_y
 
 if (ply_finished or ply_dead) return false

 if demo then
  dx,dy,btn❎=0,0,false
  if #auto>0 then

   local t=auto[1][1]
   dx=t=="l" and -1 or t=="r" and 1 or 0
   dy=t=="u" and -1 or t=="d" and 1 or 0
   btn❎= auto[1][2]==0

   auto[1][2]-=1
   if (auto[1][2]<=0) deli(auto,1)
   


  else
   wait-=1
   if (wait<=0) ply_dead="demo quit"
  end

 else

  pause=false
  if forcedx or forcedy then
   dx,dy,btn❎,forcedx,forcedy=forcedx,forcedy,true
  else
   if (dx==0 and dy==0 and (suggestx or suggesty)) dx,dy=suggestx,suggesty
   btn❎=btn(❎)
  end
  suggestx,suggesty=nil  

  if dx!=0 and dy!=0 then
   if olddy!=0 then
    local t=get(ply_x\8+dx,ply_y\8)
   if (allowed_move[t]) dy=0 else dx=0   
   else
    local t=get(ply_x\8,ply_y\8+dy)
   if (allowed_move[t]) dx=0 else dy=0   
   end
  end

  if record then
   if (dx==0 and dy==0) if (not btn(🅾️)) pause=true return false

   if (btn❎ and old❎) pause=true return false

   local t=dx==1 and "r" or dx==-1 and "l" or dy==1 and "d" or dy==-1 and "u" or "s"
   local a=auto[#auto]
   
   if btn❎ then
    add(auto,{t,0})
   elseif #auto==0 or a[1]!=t or a[2]==0 or a[2]>=demomaxstep then
    add(auto,{t,1})
   else
    auto[#auto][2]+=1
   end

  else

   cx,cy=0,0
   if (btn(🅾️)) dx,dy,cx,cy=0,0,dx,dy
  end

 end


 if dx!=0 then
  ply_anim,ply_fx=anim.plyright, dx==-1

 elseif dy!=0 then
  ply_anim,ply_fx=dy<0 and anim.plyup or anim.plydown, false

 else
  ply_boring+=1
  ply_anim,ply_fx=ply_boring > 120 and anim.plyboring or anim.plystand, false
 end


 if dx!=0 or dy!=0 then
  ply_boring=0
  local x,y=ply_x\8,ply_y\8
  local xx,yy=x+dx,y+dy

  local typ,data=get(xx,yy)

  if typ==block_exitopen then
   ply_x2,ply_y2=xx*8,yy*8
   ply_push,ply_finished,sound.exit=0,true,true
   set(x,y,block_void)

  elseif allowed_move[typ] then
   if (typ==block_gem) ply_gems+=1 sound.collect=true add(followgems,{15,xx*8+1,yy*8+1})
   if btn❎ then
    set(xx,yy,block_void)
   else
    ply_x2,ply_y2,sound.steps=xx*8,yy*8,true
    set(xx,yy,block_player)
    set(x,y,block_void)
   end
   
   if (typ==block_dirt) sprite_anim(xx*8,yy*8,dx==-1 and anim.dirtright or dx==1 and anim.dirtleft or dy==-1 and anim.dirtup or anim.dirtdown)
   ply_push=0


  elseif dx!=0 then
   ply_anim=anim.plymove
  end

  if is_moveable[typ] and dx!=0 then
   ply_push+=1

   if ply_push>=2 and get(xx+dx,yy)==block_void then
    sprite_move(xx,yy,xx+dx,yy,1)
    if btn❎ then
     set(xx,yy,block_void)
    else
     ply_x2,ply_y2,sound.steps=xx*8,yy*8,true
     set(xx,yy,block_player)
     set(x,y,block_void)
    end
    ply_push=0
   end
  end
  
 else
  ply_push=0
 end
 
 olddx,olddy,old❎=dx,dy, (dx!=0 or dy!=0) and btn❎


end

function explode(x,y,bl)
 sound.explosion=true
 for dy=y-1,y+1 do
  for dx=x-1,x+1 do
   local typ,data=get(dx,dy)

   if not is_indestructible[typ] then
    sprite_anim(dx*8,dy*8,anim.explosion)
    set(dx,dy,bl)

    if (typ==block_player) ply_dead="exploded"
   end

  end
 end
end

function cave_gamelogic()
 if (phase>7) return false
 if phase>=1 and phase<=4 then
  
  if (phase==1)check,amoeba_free={},{}
  
  for y=1,gameh2 do
   for x=1,gamew2 do
    local xx,yy=loopxy(x+move[phase][1],y+move[phase][2])
    local t,d=mget(x,y),mapdata[x.."x"..y] or 0
    local tt=mget(xx,yy)&0x7f
    

    if (amoeba_move[tt] and t==block_amoeba) add(amoeba_free,{xx,yy})
    if ( d!=0 or t&0x80!=0 or (interactive_neightbour[tt] and interactive_block[t]) ) check[x.."x"..y]=true
    
   end    
  end
  
 elseif phase==5 then
global[[
amoeba_count=0
checkxy={}
]]
  swaplines=not swaplines  
  for y=gameh1,0,-1 do
   
   local xa,xb,xc=0,gamew1,1
   if (y%2==(swaplines and 1 or 0))  xa,xb,xc=xb,xa,-1 
   for x=xa,xb,xc do
    if (mget(x,y)&0x7f==block_amoeba) amoeba_count+=1
    
    local t=replace[mget(x,y)]
    if (t) mset(x,y,t)
    if (check[x.."x"..y]) add(checkxy,{x,y})
   end
  end
  replace={}
  
  if amoeba_count>0 then
   loopsound(sfx_amoeba)
   
   if #amoeba_free<=0 then
global[[
replace.8=@block_gem
stopsound(@sfx_amoeba)
]]
   elseif amoeba_count>=amoeba_limit then
global[[
replace.8=@block_rock
stopsound(sfx_amoeba)
]]
   elseif random() <=  (amoeba_time<=0 and amoeba_fast or amoeba_slow) or ply_boring > 150 then
global[[
amoeba_rnd=random(@amoeba_free)
set(@amoeba_rnd.1,@amoeba_rnd.2,@block_amoeba)
]]
   end
  else
   stopsound(sfx_amoeba)
  end
  
  
 elseif phase==0 then
  enemies={}
  for xy in all(checkxy) do
   local x,y=unpack(xy)
   local typ,data=get(x,y)

   if typ&0x80==0 and is_fallable[typ] then
    local typ⬇️=get(x,y+1)
    local inmove=typ⬇️&0x80!=0
    typ⬇️&=0x7f

    if typ⬇️==block_void then
     sprite_move(x,y,x,y+1,1)

    elseif typ⬇️==block_player then
     if (data==1) explode(x,y+1) ply_dead="smashed"
     
    elseif typ⬇️==block_firefly then
     if (data==1) explode(x,y+1)

    elseif typ⬇️==block_butterfly then
     if (data==1) explode(x,y+1,block_gem)

    elseif typ⬇️==block_wallmagicon then
     if get(x,y+2)==block_void then
      set(x,y,typ==block_gem and block_rock or block_gem)
      local tab=sprite_move(x,y,x,y+2,1)
      tab.anim=anim.wallmagic
     end
     
    elseif typ⬇️==block_walleraser then
     sprite_anim(x*8,y*8,anim.explosion)
     set(x,y,block_void)
     sound.burning=true
     
    elseif typ⬇️==block_slime then
     if (get(x,y+2)==block_void and random()<slime_permeability) sprite_move(x,y,x,y+2,1)

    elseif typ⬇️==block_wallmagic and data==1 then
global[[      
wallmagic_active=true
replace.22=@block_wallmagicon
loopsound(@sfx_wallmagic)
]]
    elseif not inmove and is_glide[typ⬇️] then
     if (data==1) sound[typ==block_gem and "gem" or "rock"]=true
     local d=random(2)==1 and 1 or -1
     for dx=x-d,x+d,2*d do
      if (get(dx,y)==block_void and get(dx,y+1)==block_void and not is_fallable[get(dx,y-1)]) sprite_move(x,y,dx,y,1) break
     end
     mdset(x,y)

    else
     if data!=0 then
      sound[typ==block_gem and "gem" or "rock"]=true
      mdset(x,y)        
     end
    end
   end

   if (is_enemy[typ]) add(enemies,{x,y,typ,flag,data})
   
   if typ==block_wallgrow then
    for i=-1,1,2 do
     if (get(x+i,y)==block_void) set(x+i,y,block_wallgrow)
    end
   end

   
  end
  
  for enb=#enemies,1,-1 do
   local x,y,typ,flag,data=unpack(enemies[enb])
   if mget(x,y)==typ then
    if typ!=block_butterfly then
     cc,cl=moveup,movedown
    else
     cc,cl=movedown,moveup
    end

    local ok,catched=true,true
    for m in all(move) do
     local typm,datam=get(x+m[1],y+m[2])
     if (typm==block_void) catched=false
     if (enemy_touchexplode[typm]) or
     (m[2]==-1 and is_fallable[typm] and datam==1) then
      explode(x,y,typ==block_butterfly and block_gem)
      if (typm==block_player) ply_dead="caught"
      ok=false
      break
     end
    end

    if ok then
     if catched then
      mdset(x,y,0x20+(data&0xf))       
      
     elseif data>=0x10 then
      mdset(x,y,data-0x10)
     else
      local dside=cl[data]

      local xx,yy=x+move[dside][1],y+move[dside][2]
      local typt,datat=get(xx,yy)
      if typt==block_void then
       sprite_move(x,y,xx,yy,dside)
      elseif not is_fallable[typt] or datat==0 then
       xx,yy=x+move[data][1],y+move[data][2]
       typt,datat=get(xx,yy)
       if typt==block_void then
        sprite_move(x,y,xx,yy,data)
       elseif not is_fallable[typt] or datat==0 then
        dside=cc[data]
        xx,yy=x+move[dside][1],y+move[dside][2]
        typt,datat=get(xx,yy)
        if typt==block_void then
         sprite_move(x,y,xx,yy,dside)
        elseif not is_fallable[typt] or datat==0 then
         mdset(x,y,dside)
        end
       end
      end
     end     
    end    
    
   end
  end
  
  
 end
end

function loopsound(x)
 if (not loopsounddata[x]) loopsounddata[x]=true sfx(x)
end
function stopsound(x)
 loopsounddata[x]=false 
 sfx(x,-2)
end

function init_game()
 global[[
deltacamx=0
deltacamy=0
wait=60
blink=0
pause=false
cx=0
cy=0
pause=false
forcedx=false
forcedy=false
suggestx=false
suggesty=false
olddx=false
olddy=false
old❎=false
sprite_anim(@ply_x,@ply_y,@anim.explosion)
ply_anim=@anim.plystand
sound.spawn=true
]]
 menuitem(1,"give up",function() explode(ply_x\8,ply_y\8) ply_dead="oh no!" end)
end

function exit_game()
 global[[
stopsound(@sfx_amoeba)
stopsound(@sfx_wallmagic)
menuitem(1)
menuitem(2)
debuginfo=@NIL
]]
end

function update_game()

 player_handle()

 if pause and phase==0 then
  _frame-=1
  return false

 else
  if phase==0 then
   timersub+=8
   if timersub>=60 then
    timersub-=60
    
    if wallmagic_active then
     wallmagic_time-=1
     if wallmagic_time<0 then
      global[[
stopsound(@sfx_wallmagic)
replace.10=@block_walleraser
wallmagic_active=false
]]
     end
    end
    
    if (amoeba_time>0) amoeba_time-=1
    
    if timer>0 and not ply_finished and not ply_dead then

     timer-=1
     if (timer<=10 and timer>0) sound[timer%2==0 and "dong" or "ding"]=true
     
     if (timer<=0) ply_dead="time out" sound.timeout=true
    end
   end
  end
  

  

  if ply_gems>=neededgems and exitopen==false then
   global[[
exitopen=true
replace.19=@block_exitopen
sound.exitopen=true
]]
  end

  

  global[[
sprite_handle()
handle_camera()
cave_gamelogic()
]]
 end

 if ply_finished or ply_dead then
  if record and #auto>0 then
   
   global[[
cave.demo=@auto
debuginfo=@NIL
auto={}
]]
  end
 end


 if ply_dead or ply_finished then
  wait-=1
  if (wait<=0) change_gamemode "caveexit"
 end

end

function draw_game()
 camera(flr(camx+.5),flr(camy+.5))

 if exitopen and cave_rad<cave_maxrad then
  cave_rad+=2
  for i=0,-2,-1 do
   circ(exitx,exity,cave_rad-i,7-i)
  end
 end

draw_gamestr="◆"..prefix(ply_gems,3)..
 "/"..prefix(neededgems,3)..
 " ⧗"..prefix(timer,3)..
 " ♥"..prefix(ply_lives,2)

 global[[
draw_cave()
camera()
printoc(@draw_gamestr,64,0,9)
printoc(◆゜゜゜/゜゜゜ ⧗゜゜゜ ♥゜゜,64,0,8)
]]
 if (editor) debuginfo=amoeba_time.." "..wallmagic_time
 
 if demo then
  blink+=1
  if (blink\120%2==1) global[[printoc(pRESS ❎,64,65,7)]]
 end

end

function init_gameloop()
 
 if ply_finished or (ply_dead and cave.intermission) then 
  currentcave+=1
  if (currentcave>#caves) level+=1 global "level=min(@level,5)\ncurrentcave=1"
 end

 change_gamemode(ply_lives<=0 and "title" or "caveintro")
end

function init_gamestart()
 global[[
ply_lives=3
ply_score=0
ply_finished=false
ply_dead=false
bonuslivescore=@livesforscore
change_gamemode(gameloop)
 ]]  
end

-->8
--inextro

function init_caveintro()
 prepare_cave()
 
 for y=0,127,8 do
  for x=0,127,8 do
   add(mask,{block_metalanim,x,y})
  end
 end


 
 
 loopsound(sfx_trans)

end
function exit_caveintro()
 stopsound(sfx_trans)
end
exit_caveexit=exit_caveintro

function update_caveintro()
 del(mask,rnd(mask))
 del(mask,rnd(mask))
 if (#mask<=0) stopsound(sfx_trans)

 if (phase==0) wait-=1 
 if (wait < -3) change_gamemode "game"

 sprite_handle()

 cave_gamelogic()

end

function draw_caveintro()
 draw_cave()
 
 camera()
 for e in all(mask) do
  spr(unpack(e))
 end

 if wait>0 then
  
  printoc(cave.subname,64,50,9)
  printbigc(cave.name,64,58,10)
 end

end


function init_caveexit()
global[[
followgems={}
bonuslives=0
wait=20
]]
 
 mask,mask2={},{}
 for x=0,15 do
  for y=0,15 do
   add(mask2,{block_metalanim,x*8,y*8})
  end
 end
 
 loopsound(sfx_trans)

 if ply_finished and cave.intermission then
  ply_lives+=1 
  sound.oneup=true
  bonuslives+=1
 elseif ply_dead and not cave.intermission then
  ply_lives-=1
 end
 

end

function update_caveexit()
 if ply_finished then
  if demo then
   if #mask2<=0 then
    wait-=1
    if (wait<=0) change_gamemode "title" return false
   end
  elseif wait>0 then
   if (#mask2<=0) wait-=1
  else
   repeat
    if ply_gems>0 then
     ply_score+=ply_gems>neededgems and 10 or 5
     ply_gems-=1
     sound.bonus=true
    elseif timer>0 then
     ply_score+=1
     sound.bonus=true
     timer-=1
    elseif btnp(❎) then
     change_gamemode "gameloop" 
     return false
    end

    if ply_score>=bonuslivescore then
     bonuslivescore+=livesforscore
     ply_lives+=1
     bonuslives+=1
     sound.oneup=true
    end

   until not btnp(❎)
  end
 end


 for i=0,4 do
  add(mask,del(mask2,rnd(mask2))) 
 end
 if (#mask2<=0) stopsound(sfx_trans)

 if ply_dead and #mask2<=0 then
  if wait>0 then
   wait-=1
  elseif ply_lives>0 or btnp(❎) or demo then
   change_gamemode(demo and "title" or "gameloop") 
   return false
  end
 end


end

function draw_caveexit()
 draw_cave()

 camera()
 for m in all(mask) do

  spr(unpack(m))
 end
 doblink=false

 if not demo then
  if ply_finished then
   printbigc("gEMS: "..prefix(ply_gems,3),64,44,ply_gems>0 and 10 or 9)
   printbigc("tIME: "..prefix(timer,3),64,58,(ply_gems==0 and timer>0) and 10 or 9)
   printbigc("sCORE: "..ply_score,64,72,(ply_gems==0 and timer==0) and 10 or 9)  
   if (ply_gems==0 and timer==0) doblink=true
   
  end

  if (ply_dead and wait>10) printbigc(ply_dead,64,58,10)
  if ply_dead and wait<=0 and ply_lives<=0 then
global[[
printbigc(game over,64,52,8)
printoc(@ply_score,64,66,10)
doblink=true
]]
  end


  if doblink then   
   blink+=1
   if ( blink\120%2==1 ) global[[printoc(press ❎,64,86,7)]]

  end
  
  if bonuslives>0 then
   x=64-4*bonuslives
   for i=1,bonuslives do
    pal(blackpal,0)
    for d=-1,1,2 do
     spr(69,x+d,110)    
     spr(69,x,110+d)
    end
    pal(0)
    spr(69,x,110)
    x+=8
   end
  end
  
 end
end


-->8
--cave
function cave_add(typ,typ2,dx,dy)
if (dx>=0x80) dx|=0xff00
if (dy>=0x80) dy|=0xff00
 for y=1,gameh2 do
   for x=1,gamew2 do
     if (mget(x,y)==block[typ]) mset(x+dx,y+dy,block[typ2])
   end
 end
end


function cave_line(typ,x1,y1,x2,y2)
 local dx,dy=x2-x1,y2-y1
 local d=max(abs(dx),abs(dy))
 dx/=d
 dy/=d
 for i=0,d do
  mset(x1+dx*i+.5,y1+dy*i+.5,block[typ])
 end
end

function cave_raster(typ,x,y,w,h,dx,dy)
 local xx,yy
 for yy=y,y+(h-1)*dy,dy do
  for xx=x,x+(w-1)*dx,dx do
   mset(xx,yy,block[typ])
  end
 end
end

function cave_point(typ,x,y)
 mset(x,y,block[typ])
end

function cave_rect(typ,ftyp,x1,y1,x2,y2)
 for y=y1,y2 do
  for x=x1,x2 do
   local f=(x==x1 or x==x2 or y==y1 or y==y2) and typ or ftyp
   if(f) mset(x,y,block[f])    
  end
 end
end
function cave_rect1(typ,...) cave_rect(typ,typ,...) end

function cave_box(typ,...)
 cave_rect(typ,nil,...)
end

function _cave(what,...)
 call("cave_"..what,...)
end

function xy(i,...)
 return i%gamew2 +1,i\gamew2+1,...
end

function cave_render()
 global[[
_rnd2=_slvl(@cave.seed)
_rnd1=0
gamewidth=@cave.size.1
gameheight=@cave.size.2
mapdata={}
memset(0xa000,@block_metal,0x5fff)
]]
gamew1,gameh1,gamew2,gameh2=gamewidth-1,gameheight-1,gamewidth-2,gameheight-2


 if cave.ismap then
  local last,i,_rm_index=block_void,0,0
  function _readmap()
   _rm_index+=1
   return cave.map[_rm_index] or 0
  end
  
  while i<gamew2*gameh2 do
   c,fn=_readmap()
   
   if c==flag_last then
    fn=function() return last end
   elseif c==flag_above then
    fn=function() return mget(xy(i-gamew2)) end
   elseif c==flag_dirt then
    fn=function() return block_dirt end
   end
   
   if fn then
    for a=1,_readmap()+3 do   
     mset(xy( i,fn() ))
     i+=1
    end
   else
    last=id2block[c]
    mset(xy(i,last))
    i+=1
   end  
  end
  
 else
  for y=1,gameh2 do 
   random()
   for x=1,gamew2 do   
    local r,typ=random(256),block_dirt
    for e in all(tsplit(cave.random,2)) do
     if (r<e[2]) typ=block[e[1]]
    end
    mset(x,y,typ)
   end
   random()
  end
  foreach(cave,function (t) _cave(unpack(t)) end)
 end

 cave_box("metal",0,0,gamew1,gameh1)
 global[[
mset(@cave.player.1,@cave.player.2,@block_player)
mset(@cave.player.3,@cave.player.4,@block_exit)
]]
end

function prepare_cave()
cave=caves[currentcave]

 global[[
swaplines=true
amoeba_count=0
totalgems=0
wallmagic_active=false
exitopen=false
sprites={}
sprites_anim={}
mapdata={}
replace={}
check={}
checkxy={}
loopsounddata={}
camx=0
camy=0
followgems={}

_frame=-1

mask={}
 
ply_dead=false
ply_finished=false

ply_push=0
ply_gems=0
ply_anim=@anim.plystand
ply_boring=0
ply_fx=false
ply_fy=false

wait=15 
deltamask=2

auto={}

cave_maxrad=500
cave_rad=4

slime_permeability=@cave.slime_permeability
cave_render()
ply_x=@cave.player.1
ply_y=@cave.player.2
exitx=@cave.player.3
exity=@cave.player.4
ply_anim=@anim.inbox
amoeba_fast=@cave.amoeba_fast
amoeba_slow=@cave.amoeba_slow
amoeba_limit=@cave.amoeba_limit

timer=_slvl(@cave.time)
timersub=0
amoeba_time=_slvl(@cave.amoeba_time)
wallmagic_time=_slvl(@cave.magicwalltime)

loopx=@cave.loopx
loopy=@cave.loopy
]]
  
 

 exitx*=8
 exity*=8
 ply_x*=8
 ply_y*=8
 

 
 for y=0,gameh1 do
  for x=0,gamew1 do
   local t=mget(x,y)
   if t==block_gem then
    totalgems+=1
    
   elseif is_enemy[t] then
    local cc= t!=block_butterfly and moveup or movedown
    
    mdset(x,y,1)
    for i=1,4 do
     local a=mget(x+move[i][1],y+move[i][2])
     if (not enemy_notattach[a]) mdset(x,y,cc[i])
    end   
    
   end
  end
 end

 neededgems=_slvl(cave.needed)
 
 camx,camy=limit_camera(ply_x-60,ply_y-60)
 
global[[
ply_x2=@ply_x
ply_y2=@ply_y
]] 
 
 
 pal(colors[currentcave%#colors+1],1)
 
 if not record then
  for x in all(cave.demo) do
   add(auto,{unpack(x)})
  end
 end
end

function addpeek()
 if(_adr>=0x3000)return 0
 _adr+=1
 return peek(_adr-1)
end

function read()
 _adr+=0.5
 return _adr%1!=0 and @_adr\16 or @_adr&15
end

function write(b)
 _adr+=0.5
 poke(_adr, _adr%1!=0 and @_adr|b*16 or b)
end


function cave_read()
 local i,n,v,prefix,prefix2,index=0
 cave={}

 local flag=addpeek()
 for f,v in pairs(cave_flags) do
   cave[f]=flag&v!=0
 end
 
 
 repeat  
  i+=1
  if i<=#header then
   n=header[i]  
   v,index,prefix,prefix2=n[1],2
  else
   local xx=addpeek()
   local x=xx\16
   prefix2=id2block[xx%16]
   if (x==0) break
   v,prefix=i-#header,lines[x]
   n,index=lines[prefix],3
  end
  
  local typ=type(n[index])  
  
  if typ=="string" then
   cave[v]=""
   repeat
    local ch=addpeek()
    cave[v]..=chr(ch&0x7f)   
   until ch>=0x80 or ch==0
  elseif typ!="boolean" then
   if #n==index then
    cave[v]= addpeek()

   else
    cave[v]={prefix,prefix2}
    for i=index,#n do
     add(cave[v],addpeek())
    end
    
    local a,b,d
    if (prefix) a,b,d=2,(prefix=="rect" or prefix=="add") and 3 or 2,1
    if (v=="random") a,b,d=1,7,2
    if (a) for i=a,b,d do cave[v][i]=block[cave[v][i]] end
   end
  end 
  
 until cave.ismap 
 
 if cave.ismap then
  _adr-=0.5
  cave.map={}
  local i,s=0,0
  while i<(cave.size[1]-2)*(cave.size[2]-2) do
   local c=read()
   s+=c
  if (c>=flag_first) add(cave.map,c) c=read() i+=c+3 else i+=1
   add(cave.map,c)
  end
  s%=255
  cave.seed={s,s,s,s,s}
  _adr=ceil(_adr)
 end

 cave.demo={}
 repeat
  local c=addpeek()
  if (c==0) break
  add(cave.demo,{demomove[c%demodiv],c\demodiv})
 until false


end

function caves_load()
global[[
caves={}
_adr=0x1000
]]
 while @_adr!=0 do
  cave_read()
  add(caves,cave)
 end 
end


-->8
--title


global[[
infotext={
{
@anim.plyboring
rOCKFORD
}
{
@block_dirt
dIRT
}
{
@block_rock
rOCK
}
{
@block_gem
gEM
}
{
@block_wall
wALL
}
{
@block_metal
mETAL wALL
}
{
@block_wallgrow
gROWING wALL
}
{
@block_wallmagic
mAGIC wALL
}
{
@block_exit
cLOSED eXIT
}
{
@block_exitopen
oPEN eXIT
}
{
@block_butterfly
bUTTERFLY
}
{
@block_firefly
fIREFLY
}
{
@block_amoeba
aMOEBA
}
{
@block_slime
sLIME
}
{
@block_walleraser
eRASER wALL
}
}

credits={
rOCKFALL
gpi
.
bOULDER dASH i & ii
pETER lIEPA
cHRIS gRAY
.
cAVES
@author
}
]]


if (dget(63)!=0) reload (0x1000,0x1000,0x2000,"rockfall-editor.p8") cstore() dset(63,0)


function menu_add(title,varname,table)
 add(menu,{title,varname,table})

end

function infotext_draw()
 local s=(#infotext+1)\2
 for i,e in pairs(infotext) do
  local x,y=(i-1)\s*64+5,(i-1)%s*11+44
  spr(type(e[1])=="table" and e[1][_frame\2%#e[1]+1] or e[1],x,y)
  printo(tostr(e[2]),x+10,y,7)
 end
end


function menu_draw()
 local y=50
 for nb,e in pairs(menu) do
  local var=_ENV[e[2]]
  if (e[1]) printoc(e[1],64,y,9) y+=8
  local x,t1,t2=e[3][var]
 if (type(x)=="table") t1,t2=unpack(x) else t2=x
  if (t1) printoc(t1,64,y,9) y+=8
  if menu_select==nb then 
   rectfill(0,y,128,y+14,1) 
   printbigc(t2,64,y,menu_select==nb and 7 or 10) 
   y+=16
  else
   printoc(t2,64,y,10) y+=8
  end

 end
end
function menu_do()
 if (btnp(⬆️)) menu_select-=1
 if (btnp(⬇️)) menu_select+=1
 menu_select=limit(menu_select,1,#menu)
 
 local m=menu[menu_select]
 local var=m[2]
 if (btnp(⬅️)) _ENV[var]-=1
 if (btnp(➡️)) _ENV[var]+=1
 _ENV[var]=limit(_ENV[var],1,#m[3])
 
end

function caves_subtitle()
 local i,a,bd=1,97,1
 for cave in all(caves) do
  if cave.intermission then
   cave.subname="iNTERMISSION "..i
   i+=1
  else
   cave.subname="cAVE "..bd..chr(a)
   a+=1
   if (a==113) a=97 bd+=1
  end
 end
end




function init_title()
 menu={}
 menu_select=1
 local levelnames={}
 for c in all(caves) do
  add(levelnames,{c.subname,c.name})
 end
 menu_add(nil,"startcave",levelnames)
 menu_add("dIFFICULTY","startlevel",split"1,2,3,4,5")
 menu_add("sPEED","speed",split"fAST,nORMAL,mODERATE,sLOW,bORING,sTOP")
 pal(colors[1],1)

 idle=0
 demo=false
 editorwait=0
 
 music(0)
 
end

function exit_title()
 deltaframe=demo and 8 or speedframe[speed]
 music(-1)
end

function update_title()

 menu_do()
 
 if btn()!=0 then
  idle=0
 else
  idle+=1
  if idle>3*600 then
   demo=true
   player={lives=3,score=0}
   currentcave=rnd(#caves)\1+1
   level=1
   change_gamemode "gamestart"
  end
 end
 
 if btnp(❎) or btnp(🅾️) or editor then
  demo=btnp(🅾️)
  currentcave=editor or startcave
  level=demo and 1 or startlevel
  change_gamemode "gamestart"
  
 end

end

function draw_title()

 ?"\^@60c608af▮mf¹\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0カf‖P⁶\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0サ¹\0\0]\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0PU\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0`⁵\0\0\0e\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0fツf⁵\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0コ\0\0\0\0`]eサ¹P‖\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0P⁶\0▮m。\0\0\0\0\0\0e]\0\0\0\0\0\0\0\0\0\0\0⁷\0\0\0\0\0ツ‖Pfサe▶\0\0\0\0\0\0\0Umfffff¹\0\0\0\0\0\0\0\0\0\0\0P⁶\0\0\0e]\0\0\0\0PVコ◀\0\0\0\0\0\0\0\0\0P\r\0\0\0\0\0\0\0\0▮\0\0m\0\0\0\0\0コf]¹\0\0\0\0QffサU¹\0\0\0\0\0\0\0\0⁶\0\0\0\0コサ\0\0\0e¹\0e\0\0\0\0\0\0\0\0\0`¹\0Pwfff¹\0\0\0\0a\0\0\0\0f。\0\0\0\0\0\0\0\0\0\0▮コmgU\0▮g]\0P⁶\0\0\0\0\0`⁶\0▮⁶\0\0P\r\0\0\0\0\0\0\0\0p\0\0Pwwww▶\0\0\0\0`⁵\0\0カ\r\0\0\0\0\0\0\0\0\0\0\0\0\0\0▮コfv¹コff⁵\0\0\0\0\0\0◀P}⁵\0\0\0⁶\0\0\0\0\0\0\0\0コ\0\0オwwwww¹\0\0\0PV\0コシ\0P‖■\0\0\0\0\0\0\0\0\0\0\0\0\0\0■\0\0\0¹\0\0\0\0\0\0\0qサ‖\0\0\0\0V\0\0\0\0\0\0\0\0]\0\0オwwwww▶\0\0\0\0efツ⁵\0uwwg\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0Pwgfff\r\0\0\0▮\0\0\0\0\0\0U\0\0\0\0\0\0\0\0⁶\0\0オwwwwww⁵\0‖\0\0\0\0\0▮wwww⁶g]¹\0\0\0\0\0\0\0\0\0\0\0Pツmwww⁷PV\0\0\0\0カ\0\0\0a\0\0\0\0\0\0\0\0⁷\0\0P‖`wwwwWawg]¹\0\0`wwwwgww⁶\0\0\0\0\0\0\0\0\0\0\0\0\0`wgwWvW\0\0\0カw\0\0\0a\0\0\0\0\0\0\0\0V\0\0\0\0pww◀vw}wvwW\0\0}wwwwgvw⁶UU¹\0\0\0\0\0\0\0\0\0\0qwシwgwW\0\0▮ww\0\0\0e\0\0\0\0\0\0\0\0`。¹\0\0uwwVawu⁵オwW\0Pwwgvwwvw⁶wwW}fffサツ]UU¹}wVwfvW\0\0▮wwPfm◀\0\0\0\0\0\0\0\0▮fg¹\0}wwwgwq\rPwW\0qww▶vwwvw⁷vgツuwwwwwwww⁷vwコw⁶vW\0\0\0qw`‖U\0\0\0\0\0\0\0\0\0\0\0e⁶\0vwサコwg`⁶PwW\0vww⁵ffv}w⁷uwaqwwwwwwww▶wwオw⁷v▶\0\0\0pwp\0\0\0\0\0\0\0\0\0\0\0\0\0\0f\0wwシfコfオ⁷Pwシオwwシ\0\0\0\0uw⁷qw⁵`wwwwwwwwシwgオw⁶v▶\0\0\0qgp\0\0PmV\0\0\0\0\0\0\0\0\0mPwwシw⁶\0PW▮wシuww⁶\0\0\0\0uw▶pw\rオツwwwwwwwvwWオw⁶v▶\0\0\0qg`\0\0m‖a⁶\0\0\0\0\0\0\0\0Vオww▶uW\0\0シ▮wシvww¹\0▮■¹uwwvw⁶P。ww■■Qコw}w⁷`w⁶w⁷\0\0\0ug`⁵a⁶\0\0W\0\0\0\0\0\0\0\0⁷`ww⁷`w\0\0vサwシvwwサ¹pw▶qwwwサ⁵\0\0ww¹\0\0オ◀}wサ}w⁶w⁷\0\0\0ugPfV\0\0\0e\0\0\0\0\0\0\0P\rpww⁶▮w\r\0}wwgwwwwg}wWpwWPvg⁵`wwfツ¹\0\0wwfmw⁶w⁷\0\0\0ug\0\0\0\0\0\0`\0\0\0\0\0\0\0オ⁵uww⁵\0v⁷\0qwwgコvwwwwwgpwシ\0ww¹`wwww¹\0Pww\0`w\rw⁷\0\0\0}シ\0\0\0\0\0\0p\0\0\0\0\0\0\0p\0}ww¹\0aV\0▮コvg\0▮ewwwg]pwgPwg\0\0uw▶■\0\0`wシ\0`w。w⁷Qmサ}シ\0▮カ¹\0\0`\0\0\0\0\0\0\0`\0Qmw\0\0\0\0\0\0\0▮ツ\0\0\0▮mシ\0\0`wg`wW\0\0pwW\0\0\0pw▶\0`VUwwww▶}gmvw\0\0\0p⁵\0\0\0\0\0\0コ\0\0\0■\0\0\0\0\0\0\0\0\0\0\0\0\0\0¹\0\0`wgpw▶\0\0`wシ\0\0Qvw⁶\0pwgwwww⁶vwwwシ\0\0\0a\0\0\0\0\0\0\0]\0\0\0\0\0\0\0\0vV\0\0\0\0\0\0■コ⁵\0\0`wwuwV\r\0オw◀\0`wサ‖\0\0pwgwwwg¹vwww▶P。▮V\0\0\0\0\0\0\0e‖\0\0\0\0\0Pm⁶e◀\0\0\0オvfU▶\0\0PvwPwf¹\0▮V\0\0▮¹\0\0\0\0pgサwサ‖\0\0vwg]¹mvw\r\0\0\0\0\0\0\0PffV\0\0\0サ⁵\0\0q⁵\0\0ツ\0\0\0◀\0\0\0▮m\0オg\0\0\0\0\0▮◀\0\0\0\0\0▮\0▮¹\0\0\0\0ツ‖\0\0\0⁷P⁵\0\0\0\0\0\0\0\0\0\0\0e◀\0オ⁶\0\0\0`f]e\r\0\0\0]\0\0\0\0\0\0\0Q\0\0\0\0\0afV¹\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0P⁷\0\0\0\0\0\0\0\0\0\0\0\0\0\0egサ¹\0\0\0\0\0e。\0\0\0\0e\0\0\0\0\0\0\0\0\0\0\0\0\0q\0カvサ\0\0\0\0▮¹\0\0\0\0\0\0\0\0オ⁵\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0`VU\0\0▮U‖\0\0\0\0\0\0`⁵\0Pe\r\0\0▮ff]。\0\0\0\0Qツ}¹\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0Uemvf]mf]ツ\0\0\0e\0\0\0▮V\0\0}⁵\0Uf\0\0Qfサ]⁵\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0Uコfvサ◀\0\0\0\0agf\r\0\0\0`サfサ⁵\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0⁵U\0\0\0\0\0\0\0\0\0\0\0\0\0U⁵"
 
 if(edition!="") printor(edition.." edition",120,32,7)
 
 if idle<600 then
  menu_draw()
  
 elseif idle<2*600 then
  infotext_draw()
  
 elseif idle<3*600 then
  local y,c=50,9
  for t in all(credits) do
  if (t!=".") printoc(t,64,y,c) y+=8 c=10 else y+=4 c=9
  end
  
  
 end
 

end


--_stat=0
--oldupdate=_update60
--function _update60()
-- oldupdate()
-- if (phase==0) _stat+=1 if (_stat>11) _stat=0
-- if (_stat>10) statmin[phase],statmax[phase]=99,0
-- 
-- statmin[phase],statmax[phase]=min(statmin[phase] or 99,stat(1)),max(statmax[phase] or 0,stat(1))
--end
--olddraw=_draw
--function _draw()
-- olddraw()
-- for i=0,deltaframe-1 do
--  if (statmin[i]) print(i.." "..statmax[i],0,i*7,10)
-- end
--end
--
__gfx__
00f00f000000000000000000000d70000000000000f00f00765e765eaaaaaaaa03bbbb3070000005eddddddddddddddd5555555570007000aaaaa00000500000
00ffff000000f00000000f00009aa7002222222200ffff00eeeeeee7a999999a3bbbabb3670000d6eccddddd111111115ee55ee567066000a999a00006670000
0feffef0000fff000000fff00dd66670000000000feffef05eeeeee6a944449abbabbbbbaa70099aeccccccd11c1111156e556e5aa7aa000a949a0009aaa7000
00ffff0000fffef0000fffef5eeeeee72222222200ffff006eeeeee5a942249abbbbbbbb6667dd66eeeeeeee11111c115555555567066000a999a00006670000
0fcccc00000fff000000fff0dd6666670000000000cccc007eeeeeeea942249abbbbbbbb00075000dddedddd111111115555555570007000aaaaa00000500000
000cc0f0000cc0000000cccf099aaa70222222220f0cc0f0eeeeeee7a944449abbbbbbbb66700dd6dddeccddd112111d5ee55ee5000000000000000000000000
00c0077007cfcc0007cccc0000d667000000000000c00c005eeeeee6a999999a3bbbbbb3a700009accdecccc0d1111d056e556e5000000000000000000000000
07700000070007700700077000057000222222220770077067e567e5aaaaaaaa03bbbb307000000deeeeeeee00dddd0055555555000000000000000000000000
444e444455555555e66666665555555500666700ee66666eeddddddd0e000000e11111110fff00000000000203b30000eeeee000444e400055555000eeeee000
e54445e45ee55ee5e55666665eeeeee506667760e5666666eccddddde7e00000edd111110fff0000220002203bbb3000e11110004544400056565000e6666000
4444444556e556e5e5555556575555e555666776ee55555eeccccccde77e0000edddddd1fcccf00000202000bbbbb000eddd10004444400055555000e5556000
44e5454455555555eeeeeeee575555e556676667eeeeeeeeeeeeeeeee777e000eeeeeeee0ccc0000220202203bbb3000eeeee00044e4400056565000eeeee000
4e44444e55555555666e6666575555e55656676666eee666dddedddde7777e00111e1111770770000002000203b30000111e10004444400055555000666e6000
44554e445ee55ee5666e5566575555e555666656666e5666dddeccdde777e000111edd1100000000000200020000000000000000000000000000000000000000
4444444556e556e5556e5555577777e50555655055eee555ccdecccce7ee0000dd1edddd00000000000200020000000000000000000000000000000000000000
4544544555555555eeeeeeee5555555500555500eeeeeeeeeeeeeeee0e000000eeeeeeee00000000000200020000000000000000000000000000000000000000
004e44440000444400000044000000000000000000000000444e4400444e000044000000444e4444444e4444444e4444eeeee000eeeee0000676000055555000
004445e4000045e4000000e4000000000000000000000000e5444500e5440000e5000000e54445e4e54445e4e54445e4edddd000e5555000666760005eee5000
004444450000444500000045444444450000000000000000444444004444000044000000444444454444444500000000ecccd000eeeee00056666000575e5000
00e54544000045440000004444e54544000000000000000044e5450044e500004400000044e5454444e5454400000000eeeee000eeeee0005565500057775000
0044444e0000444e0000004e4e44444e4e44444e000000004e4444004e4400004e0000004e44444e0000000000000000ddded000555e50000555000055555000
00554e4400004e440000004444554e4444554e440000000044554e00445500004400000044554e44000000000000000000000000000000000000000000000000
00444445000044450000004544444445444444454444444544444400444400004400000000000000000000000000000000000000000000000000000000000000
00445445000054450000004545445445454454454544544545445400454400004500000000000000000000000000000000000000000000000000000000000000
000aa000000a000000000000000000000000000000000000000000000000000000000000000000022000002200000002000000020000000000000000ddddd000
0aaaaaa0000aa0000000900000000000000000000001100001000010222222222222222222000220022022002200022022000220222222222222222211111000
0a888aa000aaaa000009900000000000000110000000010000000000000000000000000000202000000200000020200000202000000000000000000011111000
aa88888a0a888aa000922900000220000010010001000000100000012222222222222222220202200002000022020220220202202222222222222222d111d000
aa88888a0aa888a0099229000002200000100100000000100000000000000000000000000002000200202000000200020002000200000000000000000ddd0000
0a8888a00aa8aa000009990000000000000110000010010000000000222222222222222200020002220002200002000200020002222222222222222200000000
0aa8aaa0000aaa000000000000000000000000000001000001000010000000000000000000020002000000020002000200020002000000000000000000000000
000aa000000000000000000000000000000000000000000000000000222222222222222200020002000000020002000200020002222222222222222200000000
00f00f000000000000000000000d70000000000000f00f00765e765eaaaaaaaa03bbbb3070000005eddddddddddddddd5555555570007000aaaaa00000500000
00ffff000000f00000000f00009aa7002222222200ffff00eeeeeee7a999999a3bbbabb3670000d6eccddddd111111115ee55ee567066000a999a00006670000
0feffef0000fff000000fff00dd66670000000000feffef05eeeeee6a944449abbabbbbbaa70099aeccccccd11c1111156e556e5aa7aa000a949a0009aaa7000
00ffff0000fffef0000fffef5eeeeee72222222200ffff006eeeeee5a942249abbbbbbbb6667dd66eeeeeeee11111c115555555567066000a999a00006670000
0fcccc00000fff000000fff0dd6666670000000000cccc007eeeeeeea942249abbbbbbbb00075000dddedddd111111115555555570007000aaaaa00000500000
000cc0f0000cc0000000cccf099aaa70222222220f0cc0f0eeeeeee7a944449abbbbbbbb66700dd6dddeccddd112111d5ee55ee5000000000000000000000000
00c0077007cfcc0007cccc0000d667000000000000c00c005eeeeee6a999999a3bbbbbb3a700009accdecccc0d1111d056e556e5000000000000000000000000
07700000070007700700077000057000222222220770077067e567e5aaaaaaaa03bbbb307000000deeeeeeee00dddd0055555555000000000000000000000000
00f00f000000f00000000f00000970000000000000f00f0065e765e79999999903bbb30007000050ddeddddddddddddd55555555070700009999900000700000
00ffff00000fff000000fff000d667002222222200ffff007eeeeee6944444493bbbbb3006700060ddeccddd1111111155555555060600009444900009aa0000
0feffef000fffef0000fffef05eeee70000000000feffef0eeeeeee594222249bbbabbb30aa709a0cdeccccc11111111ee55ee550a7a00009424900066667000
00ffff00000fff000000fff0dd6666672222222200ffff005eeeeeee942aa249bbabbbbb0667dd60eeeeeeee111c11116e556e55060600009444900005570000
00ccccf0000cc0000000cccf99aaaaa70000000000cccc006eeeeee7942aa2493bbbbbbb00075000deddddddd1211c1155555555070700009999900000700000
0f0cc000007cf000007cc0000dd66670222222220f0cc0f07eeeeee69422224903bbbbbb06670d60deccdddd0d11111d55555555000000000000000000000000
07700c000007c0000007c000005ee7000000000000c00c70eeeeeee59444444903bbbbb30a7000a0decccccc00dd11d0ee55ee55000000000000000000000000
000007700000770000007700000d70002222222207700700567e567e999999990033bb30070000d0eeeeeeee0000dd006e556e55000000000000000000000000
00f00f000000f00000000f00000d70000000000000f00f005e765e7644444444003bb30000700500ddddeddddddddddde556e556007000004444400000900000
00ffff00000fff000000fff0005ee7002222222200ffff006eeeeee542222224003bbb3000600600ddddeccd1111111155555555006000004222400006670000
0ffffff000fffef0000fffef0dd66670000000000ffffff07eeeeeee42aaaa2433bbbbb300a79a00cccdeccc11121c115555555500a0000042a2400055557000
00ffff00000fff000000fff099aaaaa72222222200ffff00eeeeeee742a99a24bbbbabbb0067d600eeeeeeee11111111e55ee55e006000004222400006670000
0fcccc00000cc0000000cccfdd6666670000000000cccc005eeeeee642a99a24bbabbbbb00075000ddddddde11c11111e556e556007000004444400000900000
000cc0f0000fc700000cc70005eeee70222222220f0cc0f06eeeeee542aaaa243bbbbb330067d600ccdddddedd111ddd55555555000000000000000000000000
00c00770000c7000000c700000d667000000000000c00c707eeeeeee4222222403bbb30000a00a00ccccccde00d11d0055555555000000000000000000000000
077000000007700000077000000970002222222207700700e567e56744444444003bb30000700d00eeeeeeee000dd000e55ee55e000000000000000000000000
00f00f000000f00000000f00000570000000000000f00f00e765e765222222220033bb3007000050ddddddeddddddddd55ee55ee070700002222200000700000
00ffff00000fff000000fff000d667002222222200ffff005eeeeeee2aaaaaa203bbbbb306700d60cdddddec11111111556e556e060600002999200005570000
0ffffff000fffef0000fffef099aaa70000000000ffffff06eeeeee72a9999a23bbbabbb0aa799a0cccccdec11111111555555550a7a000029a9200066667000
00ffff00000fff000000fff0dd6666672222222200ffff007eeeeee62a9449a2bbbabbbb0667d660eeeeeeee1c1121c155555555060600002999200009aa0000
00ccccf0000cc0000000cccf5eeeeee70000000000cccc00eeeeeee52a9449a2bbbbbbb300075000dddddedd1111111155ee55ee070700002222200000700000
0f0cc000000cfc70000ccc700dd66670222222220f0cc0f05eeeeeee2a9999a2bbbbbbb30667dd60dddddeccd11111dd556e556e000000000000000000000000
07700c0007c0070007c00700009aa7000000000000c00c006eeeeee72aaaaaa23bbbbb300a7009a0ccccdecc0d111d0055555555000000000000000000000000
000007700070000000700000000d700022222222077007707e567e562222222203bbb300070000d0eeeeeeee00ddd00055555555000000000000000000000000
0896e44525fc8261c0c0c0c0c069e66482e1e1c304808c0230206201a0b0c0d0e000c3412330900000421070e1704290e062e00090528052716190b1e002b260
e00190a17101e033e0b080427170d06121f2316180b18061d05280c081c0000827f4f4d43d8261a0c090d0a069e6646464e1c304808c02213121413000107585
00c341233090702042106062604210d062d04280108041420110014142811081414202100241021030623002109062900210016201024110414100a0703142d0
b0e050e2217031f7e0d04272a2801190838160e0f290c080c080e0a18042801090a13151d033809043e061d0b194608060d00008d614a55c8261817181715169
46a50564e1c304808c0230207221002363437321464123309000000080b0d09011c11121c0d0c0d0c021b0d0519060e001906061d0c0801190c090c021b18160
e0b09060e050c0806080e060e06090f1e0709060c3d0608060d0119080c05060720190d0b190c0d0c0d0b1900221707170801121c071c031a1e001217021c060
e060900131c090b190c081709070b070e0b071b09070d1c081c00171b0c170d070d0c02160d0c0000826554545542564c494543d82619021b14242874605c323
e1c304808c021010624100e6073777414100000000000013008080b0b01300018031b013008180b1b01300028032b081a09081219081a1908122900011537080
523110227db041c0216080c080b08070d0c0e0806671617100286614c4c494e4740246f475ec01016060606060a0a0a0a0a0e1c304808c023070e0e000102030
400000000000000000070000010181a0e071a06011a07000a052a5c0625102000876551425443d826140506070806987a5c382e1c304808c0210107241001020
3040000000000000000003008080a0a00300018021a003008180a1a00300028022a0030080e0a001030001e02101030081e0a101030002e022013190a03111a0
3191a03112a031900131110131910131120191a08091218091a18091228091a0e09121e091a1e09122e000a0a3a2908070b0f26090d280c0b0a2902380c0b0a2
902380c0b0b1b27000086694255464c495024654e43d82614060708080698746a505e1c304808c02302162210041516171412300000000000043001010a04043
001040a07043001070a0a0430010a0a0d04300d11062404300d14062704300d17062a04300d1a062d012a010a0d012d110d1d03130303130603130903130c031
42303142603142903142c09140309140609140909140c09132309132609132909132c0006190612170e0c0d0e0c0e0b080a190b1e0518061a170e06122b0c1b0
a01131b09061e0519061e0518061e0519061b04401e1a411a3339052e042905231518001905290f0904290d4b270d0c0d0c021708002e0a2d0000816d4f45424
1c8261f0419191918787878787e1b404808c0241107250207080a0900046418270200000421050c05042c1306230a2313141313140403140c031404131222031
22a0312241000180601270c160d060802060717080206090603180c0907060e0b1d0e06080f102608090c080a170608090c080016151c0906090b08090c09060
90702161d0b0c0b0ffffff466080b03060306030603060306030b030a09040703090c0d0703090a290c0811160e0c081119070000856e4348414e44554440277
14c4cc8261a0f041414187e646a50541c304808c0241100030103040506000a5412370200000421050c0504210d0c0d042c130623042c1b062b052e0f051f012
e0d051d03140403122203122a031c0e031310101e0010012014130c060806012601190c080e00180e070906031609080c031c1117161217480f2e261a18031b0
c0d060800181c0d1a170e0112292d070e0a1d060002846941474f4e414cc0101c0c0c0c0c0a0a0a0a0a0e1c304808c021050e050001020304000000000000000
0023111010e030231110c0e0e072104070a07280a0e04072107050b072a0b0e07032106060b03290b0e060922040709000508070807080708070807080119070
9070907090709070900008762554544c8261b4b40555a56969282887e1c304808c0280a070a04698c8bf33410f30870000000043005080114111c08043009180
524111f180421101910102111191110061311050205010c161c111806011907080708051c0806080e01180517080c080b0c031021370e080c0ffc8c111c160e0
6090b090609060d0c0806080303101d060d060316172b120a090604120f0e060e0c0d0c0304221b03140b03031b0c021c0d0c003c0d060226022019001308030
90b0e06080c0b0e0b0c1b0e0b080e0b09011d070d0905121c00180011171b0d0607130b0307260000847251434b43d8261c0c0c0c0c0692887e646e1c304808c
02d010724100102030400000000000000000325020512132512050210370509051b0441020512101d020447040310101d04044906011e001d06044b080f0c001
d0804370304050210140403240e04011001222f22661e05195e2d052c1d142e0f2e40271c0811492f4e271b1d0508031a181f294904312c022e1d354e2121180
900122f2a3c0e0d2b013e2d09210a2e0f2626171a2e0f1e002e0d3228311d060d0e294a4f2d0a1b1d0010212f1022201907090b153334363a1e052947484a442
e0f7267000083625f4754c82616060606060878769690fe1c304808c02412162f00040667946004641057020000042a010a090424110419042e110e190429041
90c042c0d0c1d0425090d09042f0907190429190129042c111627031401031e01031811031221031404131323100d0709060e06121c0906120609070b01190c0
906121e0c021c0e060d160e0708160e0b08171c053a1d0018033904290b031d07090b01180c080b090709001e060e0608060c1b0710190206022709060906180
6080c03101c2039372b031706021c012c08030e06011d0c03111d011900190b0d0c0b0e0c080c09011d061306090b09070e2b1601353f2809001b19011127000
0826c414354502458425f455748c82613131e001514baa0a0a69e1c304808c023021724100c320b36600c341233090000042a030a04142e030e0414221302141
4261306141422040c040422080c0804220c001c0422001c0011300e12012509102301300e17012a09102801300e1c012f09102d000f0609060728070f0608170
326062709060635290b08070b0e0b1d09052b211c21171606270d070d0b03170d0708160227060e07060e0b17170217080703160e060906090d061a070a181a1
216090f57023a351126090c0d0d160d06031c090110402d0112170f03060310190b09051f30180b0900570f07060710110316070216181c05402d070d0a28011
d160b260d0b09061c170d00121b031b02160d0b0c031a221700028e6f4020716ce0101a0a0a0a0a04141414141e1c304808c023010e080001020304000ff0000
000000003210e0a0e09370b0c0e0e00044c05181117161f131112102f113f22100081605f43414c49505355c82612373c364050ab96919c8e1c304808c022110
a01000102030404182000000000000a14110425001220182501122117250212221145031224100a3a290c0d0b19074c0b090346090d3909360903390f2b09070
92905260315111b26080118002c170312170e0d0709070d060708070e071b040c0013780c9e0607252e011908070e0c021f21442d29002304160306030603060
306073b130b030603060305170f0f2d090e290b0118011809001806070e0b080d160905131010008a7947402a7147c8261e13282a2d26919c87828e1c304808c
023010722143161b234000000000000000001300a080614182b090614114c080e0411401802141144180614172616012609261501250147140917014b140d170
14f140127000b026c095c08561e0b0e0c0e0b0e0c0e0b0e0c0e0b0e0c031a1ca80d880e8d0519011d0c05180618831c0d06090119060d0c0e0c0d06031c02170
81d471b0114101e060d0a06011f001e060d0f0601141b090609060d0a06011f001e060d06011a001e060d0f06011f001e0603260d0c080479390c080f661e0f2
90ff2d21f69390c080f69390c080f631432d1182c0d0b080f6708082d343b270803390a2d042438033e0609060d070800231c0b0816612c000086655e4e454cc
8261f0414191e187878787c880c304808c024110414110d1e1f1020046410570200000422020b0b042f0b0812012c0c0e0c052c0d0e0d0008011e001d0703060
908030d0b081c08051e012b0907060902170d0b08070b09060706090119001118160906070e070d070d07021c03151c0d151806090805190b011d01180e07001
d060e06190d4c1b003c0d0c0906090b090b0c06090a180b0c1608030e060e070d070e001e070d07090b070b0d0b1b0d031b080b0c16190609080b09070906090
60e071b08102513161d0c019a1806180a180b1608001c0807031216031b1d0c021000856e4348414e44554440226f485543d8261c0f0f0f0c0696969696941c3
04808c0210107220108718e7b7412300000000000013008011b04191a021447080c0f0527080c08013000111314191212144f08041f052f080418013008111b1
4191a12113000211324191222100b211b26190b0115080b0e06072b0a0c021c0d011e00131117101818070800171c0d0c080708002907090118070d060c08680
c0a0b080a19011805170d16090b0217090d0c0d05170d1b0707111c2a1703170d0c09060e0b08060806080d1c0d09060900180616080e060d0608002517021b0
90018070e001d07060d160c02131518061b080b10190b0d0c090b0c08011609001804360e025d070215191b09060804232c081a180616021116080708011e001
e060d06080b1d01190f280b00290b153608060c0d09060e070e00190019011d0c0d0b080d3906031c08070e0118060806080b090b071d431c0c25253c0c27090
70d161d070002846f45524c45402d61474943c01016060606060414141414130c304808c024010a090654fe45899000000000000000074c010e0200300c050e0
a052c050e05052c090e090729060b080000352e080b0e0c0e080607080e0b090b0c1a251e011b0e011b0715201e0c0b0d0b1221190512170a01121b0c001d070
d0609000087754c434f4d45402241434bc8261a0a0a041410f0a87464691c304808c0252305021b0c0d0e0f0412330000000000042311031b04210b031b01230
60016052307001701230a001a02212101201714150130151100201221201e0010300f01162419501114010601015211140406010556110603020205571103030
40205561203010401051c1405102405161401271508150008001c1c090c08010b07053b080b5e0d00190b030d1c0d0c0907090c0d081c001d15a61c101800180
608060c0e0b1d002720182a170217031602101a090801590d49015e084908381c0d04390d0e051c0900180018051b18052c190b08090018090b0805190518090
c080901180c090f271e2c1a100083794c4f43d8261b40555a5f58ceb4baa0ae19104808c02300162014698c8bf3341ef80f7000000002210f0e1f00300100162
412311100070f02311b00011f023115100b1f02311f10062f07590e03010a0101590f03010a01072101062101210206220121030623004201030f004421052f0
__label__
657777d7777761666661000015dddd5d500000d55d6666677666677666766d66666d000155ddddd666500131333333cccccccccccccccccccccc133333333ccc
7dd77667777775d6666d000155ddddd5d51000ddddd666d77776dd6d667776d6ddddd00001555dd5d6500013133333cccccccccccccccccccccc1133333ccccc
765676777777761677761005dd5ddddd5551005ddd6dd6d77776d666dd6666dd6666661000015555dd1000131333333cccccccccccccccccccc511113ccccccc
666567777777775d77765005555dddddd555005ddd66dd6776d677776666ddddddddd55100001555510000011133333ccc3333311111111111331113cccccccc
566657777777776167776001555dddddddd5101ddd666dd66667666ddddd6666666d55d10000111111100000111333111111111113333ccccccccc11cccccccc
d677d56677777771677761015555dddddddd500ddd666655ddddddd6666666666655dd50001155515d50000011113313333cccccccccccccccccccc13ccccccc
67777d6dd677777d567765005525ddddddd55005dd666655d666666666666666655ddd10015555515d1000001111113cccccccccccccccccccccccc313cccccc
6777766776d677761666650015255dddd5555001dd66665dd66666666666666655dddd1011551555d50011011111113ccccccccccccccccccccccccc313ccccc
777776677776d6775d666d00055555ddd55550005d66665ddd666666666666655dddd50011111555d5001111111111ccccccccccccccccccccccccccc313ccc3
777777d7777776d66d666d0000155555555100001d666dd6dd66666666666d55ddddd10011111555550011111111113ccccccccccccccccccccccccccc11ccc1
777777d77777777d55666d00000111555d1000000d666dd66d6666666666d55dddddd00001111555510011111111111cccccccccccccccccccccccccccc11333
777777667777776d6d566d00000001555510150005d66d666dd66666666d55dddddd1012222201551110111111111113cccccccccccccccccccccccccccc1113
7777776d777776d66d556d00000001555510555001d6dd666dd6666666d55dddddd502222242211115101133311111113ccccccccccccccccccccccccccc3133
7777777d6777dd6dddd55d000001555dd511555100dd566666d666666d55ddddd51124422442400151101133333111111ccccccccccccccccccccccccccc3133
77777777676ddddddddd51000015555ddd5115510055566666d66666d555dd551124424444244201110113333333111113ccccccccccccccccccccccccc33333
777777776dd6ddddddddd1000155d5dddd55155100155dd666d666d5511111111244444444244420000113333333111111cccccccccccccccccccccccc33c333
77777767dd6dddddddddd1000555ddddddd55150111115dd66dd65555551111024244444444444200001133333111111111cccccccccccccccccccccc33c3331
666666dd66dddddddddd5000155ddddddddd5011cc331155dddd555551000224444444444444444200011111111111331111cccccccccccccccccccc33cc3331
d6666677dddd511155d50000155ddddddddd5111cccc33155dd55551000244444444444444444444000011100111133331113cccccccccccccccccc33ccc3310
d666667dd515666d6d1000011555ddddddddd501cccc3331155551100002444444444444444444442000000000111333331113cccccccccccccccc33cccc3310
dd66666d5d661000061000001555ddddddddd5113cc3c3c31331111100022444444444444444444241000011100111333311113cccccccccccccc33ccccc3110
d6dddddd561000000dd0000115555ddddddd51113cc3ccc33cc3133100012444444444444444444442000111666d511333311113ccccccccccccc3ccccc33100
dddd55d16000000001700011115111555551101113333cc33ccc3131000022444444442444444444240013175115d651113311113cccc15133cc3ccc33333100
dddd5d165000000000d6666d6d1566d5011110111333ccc11155551555511244444442222444444424111356000001d6d111311113cc16666513333111110000
dddd5d1600000000000010000d651056d1110011113111d666ddddddddd67551551222222442244424213c16000000005665111111316d001651111100000000
ddd5d5d500001d5555111000000000056110000111566d510000000000000ddddd6666dd1002220551115c1600000000001d7111110650000061100000001155
ddd5d1600000577777777d00000000007144100017d00000000000000000000000000115666d51d6d66d5566000000000000570111d60000001600000015ddd5
ddddd16000005777777777d000000000d554500d610000000000000000000000000000000011d6600001dd500000000000000d6d666000000006000001ddddd1
ddddd5d00000d7777777777d00000000166dd67610016666dd100000000000000000000000000000001dd55551111100000000d510000000000d5001155ddd51
dddd56100000d77777777777d0000000005511000006777777750d1000000000000000000000000000d777777777771005500000000000000005d011155ddd11
555d16000000d66d67777777760016d51000000000d7777777775777650000000000000000000000000001677777770567500000001d700000016001155dd511
0011060000000000777776d777657777776d100001777777777766777600000000000000000000000000007777677767775000000d777000000160101555d511
000005610000000177777d05777d76d5677750000777777777777677760666661555551111000000000001777757766777500000177770055016d2420155d511
000000d76d1000057777776dd7757500d7775000677777567777767777067766dd7777777777777666660d777d57765677500000167770666665122201555111
00000005577d00067777777777707600577750057777760777777d77770d777565777777777777777777077771d7770677500000007770702112222421555111
00111000005710077776d55d7760670057775017777770015555dd777705777150777777777777777777577760d7760677100000007760612222215101555115
11331100022d70177777d77d0150d7105777d067777750000000057777107775006677777777777777776777d0d776067710000001776071422166666515511d
13333100022dd05777775677000017501777dd77777d00000000057777d5677600dd57777d666666777d7777106776077700000005776061421650005715511d
3cc333100106106777771177d00007611777d6777775000066660177777776660001177770000000d7d577760067760777000000057760d65661000006d0111d
3ccc331000160077777600d77100067777776777777776517777517777dd676d5000577775100000110677777777760777000000057760155500000001600115
ccccc31000550177777d00077600057777776677777777777777d07777d0067775007777777775000017777510677d0777000000057760000000000000600151
c3ccc31000610d7777750005775000d777776015677777777777607777d0077770005d777766600000d7776000677d17770000155d77d0000000000000600111
c333331110600d7777700000551000001d676000001d67776d5000777760d777d0000177771000000067775000676517775d6777dd77d015d675000000610111
cc33113331d000015660000000000000000010000000005d50000067776067775000006777500000017777000076d6d7777777770d7777777760000000711100
3331133335500000000000000005d50000000000000000000000006777617777110000d777d0005d67776500007777677777777d067777777750000005d13511
1111333316d000000000000000d7666100000000015dd666000000677771777dd500005765000066d50000000077776777776d50067777777601676dd7133dd3
1113333331666dd10000000566514156d0000001666551161000001567700d77700000050000010000000000006d5156d510000006776d51000655666133cccd
13333333c31555d661000017159999917610001615549946500000000050000d60000000000057d0000000000000000000000000010000000017020013c3cccc
33333333c3cccc315665556d4999999415d6666144449995d00000000000000000000000000571d66d5100000000000000000000000000000056020133c3dc6c
3333cc3c33cccccc315ddd15999999999441515494494491610000000000000000000000000071d115677100000001dd50000000000000000165221333c3dd66
3333cccccc3cccccc31144999999999994999499999999445766d01155d666d5100100000000616ddd10d60000006655d66650000001dd6676d12113333d6d66
33333ccccccc3ccc333199999999999994994499999999944111ddddd550115dd6666d11d106dd6dddd10d6511d6d1dd50056101d666d51100220133333c6c66
13333ccccccc1ccc33154999999999999999499999999999944444450000566dd55515d7d67d5666ddd1115dddd00ddd50115666d510222222211333333666c6
13333ccccccc3cc3331449999999999999449999999999994444444500001666666d6dd5d55d6666ddd51331110015dd50333111022222222211333333c666d6
133333ccccc33c33315494999999999999449999999999944444444100001666666d6d66666666ddd5551331111015dd513ccc331122222211133333356666d6
133333ccccc3cc33114994999999999999499999999994444444442000000d666666d666666ddddddd550131111105dd5133ccc351000000111333331d66666c
113333cccc33cc311449994999999999944999999999944444444400000001666666d6d66ddd666666d101311111115d11333ccc51000001513333331d66666d
11133333cc33c3114444994999999999949999999999444444444200000001666666d6ddddd666666d51015111111155113333cc51000011113333331c66666d
01113333333333154499999499999999949999999944444444444000000000d66666ddddd6666666d510001110001111113333cc51000051133333333d66666d
011113333333110144999994999999994999999994444444444400111111001dddddd5d6666666d5510000000000000000133333511111511333333333d66666
00111111333100002499999499999999499999994444444444511555555100015dd66566666ddd511100000000000000001111111055511103331133333d6666
00000011111000000599999499999994999999944455ddddd5555ddddd51100005d66d6666dd511110000155d555555555551000015551511135133333333c66
000000101100000000449999499999949999994445dd666666666dd66dd550000015ddd6dd5511111015dd6ffff66fffff4d4000015555d511113333333333dd
00000155511111000024449949999944999994445d6666666666666666dd51000000155d5511010015d6ffffffffffffffd4950001555ddd5111533133333155
000015555d5555100004444449999a49999944455ddd666666666676d66d51000000001110000015dfffffff66ffffffffd4491000555ddd5511153313331111
0000155dddddddd1000244444999994999944445ddddd6666667777666ddd50000000000000055566ffffff66fffffff6949494100155ddddd51111331333333
0001555dddddddd5000054444499994999444455666666666667776666d6650000000000015d6f6666ffff66fffffff99999999410015ddddd55100111113333
0015555dddddddd5000014444449949994444556666666666777776dd6d66d10100000015d6ffffff666f66ffffff69999999999400015ddddd5510001111111
00155555ddddddd50000024244499499444445d666666666667776dddddddd111100015d6ffffffffff66dfffff6d999999999494100015dddd5550000000110
001555555dddddd500000054444494944444456666666666667666ddddd5d51151005d6ff66ffffffffff66ff6d4999999999944440000155555551000000000
10155551ddddddd50000001444444444444455d666666666666ddddddd5555115101ddd66dffffffffffff66d449999999999944441000011111151111000000
d0055151ddddddd1000011024444244444451dddd66666666dddddddd55dd5155105999666ffffffffffffff4999999999999944441000001111555555100000
65011111ddddddd10015555124444444445015d5ddd66666ddddd55555dddd1551049ffffffffffffffffff64999999999999444440000115555555ddd500011
665000015ddddd50015ddd5512444444420001dddddd666d5d55555555ddd511100499fffffffffffffffff99999999999999444440000d5ddddddddd5101133
66d100005d55551015ddddd5115554421000001dddd5ddd55d5ddddddd5dd500000499fdfffffffffff66f99999999999999944444000055ddddddd551013333
d66d1000155551015ddddddd51111110000000015dd5ddddd55dddddddd55000000499ddfffffffffffffd49999999999999944442000015ddddd55101133333
6d66500005511001ddddd55d551551110001000015dddd55d55ddddddd51000000049946fffffffffffffddf9999999999999444400000015dd5110013333333
7666650001110005ddddddddd55555510013111111155555d5ddddd5110110000014994fffffffffffff64499999999999994444400000001511000133333333
77666d50000000155ddddddddd5555510053313333111111551551100015d1000054994ffffffff66d444444999999999999944440000000000000133c333333
777666d5000000155dddddddddd555510133c33cc333333333111000015cc5000044494fffff6d4444444444449999999999944420000000000000333c333333
7776666d510000155dddddddddd5555101333c333333333c33311111133cc5000044499ddd444444444444444449449999999944011100000000013ccc333333
77776666dd1000551dddddddddd55551013333c3cccccccccccc33133333c30000444995444444444999944444449999999999440555510000000133cc333333
7777766666d1005555dddddddd55d551013333cccccccccccccccc333333c5000044499444444444499999994444999999499995055dd5500000013333333333
77777766666d101555dddddddd5ddd500333c333cccccccccccccccc333cc500014449944444444449999999944449999994999215ddddd50000033333133333
77777776ddd6d10155ddddddd5ddd5101333cc333cccccccccccccccc333c500024449944944444444499999944444999994994015dddddd510013331111313c
77777777d66d6d00155dddddd55551001333c33c3ccccccccccccccccc333500054449944999444444449999994494999999494015ddddddd5101333111113cc
777777776666d6d0015ddddd555550003c3cc3cc33cccccccccccccccccc5100044449949999999444444499999444499999444055dddddddd10133111113ccc
67777777766766650015ddd5555510003c3cc3ccc3ccccccccccccccccccc100049499949999999994444444999444499999945055dddddddd1013111111cccc
d77777777667666650015d5555510001c33c3cccc33cccccccc3ccccccccc100049499949999999999999444449944449999991155ddddddd51011133313cccc
6677777777667666d100155511000001c3cc3ccccc3cccccccc33cccccccc100049499449999999999999994444994449999991155555ddd55113313333ccccc
76677777776d77766d1001100000000133c33ccccc3dccccccccccccccc3c10004449949999994499999999994444444499994015555555555113313333ccccc
776677777776d677665000000000000533c3cccccc35cccccccccccccc3cc0000449994999994444999999999994444449999501555555555513331333cccccc
777666777776d6666dd10000000000033c33cccccc33cccccccccccccc3cd0000449994999944444999999999999444444994000155555555113331333cccccc
777766677777666666610000000000133c3ccccccc3cccccccccccccc33c5000044994499944444499999999999999444499500001111111113333133ccccccc
7777776677776d666dd1000000000013333cccccc3ccccccccccccccc33c1000044994444444444444444999999999944444000000000000013331333ccccccc
7677777677776566ddd000000110005333ccccccc3cccccccccccccccccc000004999444444444444444444494444444520000000000000003333133cccccccc
767777777777655ddd5001555555105533cccccccccccccccccccccc3cc300000499444999999999999444444442110000000000001222000333313ccccc3333
76777777777765dddd10555dddd5515133cccccc3cccccccccccccccccc100000499449999999999999444421000000000000012222222200333113333311133
67777777777765dddd015d55dddd5511333ccccc3cccccccccccccccccc100000594499999999944445111100000000000122444424442220333333111111111
677777777776dd6dd501ddd5ddddd5113c33ccc3ccccccccccccccc3ccc00000115449994444521100013330000000000224444424eee4441133111111111333
ddddddddddd55d6dd105ddd55ddd551133333cc3ccccccccccccccc3cc300013cc512552210000000013ccc1000000002224444444eee4e42131111111111111
ddddddddddddd5ddd005dd5dd555551113333c3cccccccccccccc333cc10013ccc33100000000000001cccc30000002222244444444eeeee4011133111111111
666666666dddd5dd500ddddddddd55111333333cccccccccc333333333113ccccc33100155551000013cccc31000022222224444444ee4ee4211131111133333
666666666dddd5dd100ddddddddddd501133333cccccc333333313333113ccccc333105dddddd000033cccc300002222222244444444444e4411111133333333
66666666ddddd5dd000ddddddd5ddd51111333cccc33333333311133313cccccc111015dddddd500033c31111002222222222244444444444421113333333333
66666666ddddd5d50005dddddd5ddd55011313c3133333333333333311cccccc31100015555ddd00033331111022222222222444444444444442001111333333
6666666dddddd5d10005ddddddddddd510113333333333333333331101ccccc31000000155555d10053333310222222222244444444444444444200000011133
6666666dddddd5d000015ddddddddd55101111113333113311131100003ccc310000110001555500013c33102222222244444444444444444444220000000001
6666666dddddd5500000155ddddddd55100111111111111111111000001111100005444200011000001551022222224444444444444444444444422000001511
666666ddddddd51000000155dd5dd551001d51111133333113ccc310000000000224e4444200000000000022222244444444444444444444444444200001dddd
666666dddddd510000000015555d551001dddd5151133311ccccccc3000021022224eee444410000000002222224444444444444444444444444442200055ddd
555551111100000000005100155551000dd6666d551111113cccccc3002222222222eeeee444200000002222244444444444444424444444444444420015dddd
0000000000000000015d6650015510001dd66666ddd5101333ccc31102222222244224eeee444420000122444444444444444444444444444444444210155ddd
0000000000000000165d66650000000056d666666dd00000111331101222222244442244e44444420004444444444444444444444244444444444222101555dd
00000115551000016dd666665000000056dd6666ddd0000001111101222222242224222244444444200244444444444444444444444444444e4222222005555d
000155dddd5000166d66d66665000000dddd666dd6d0000000111002222224444444222244444444210144444444444444444444444444444422222221055555
00015ddddd1000d6d6d66d6666500001ddddd6d66650000000000002222244eee44444224444442220002444444444444444444444444e442222222222015555
10005ddd5510056d6d6776d6666d0001ddd6dd566d100000000000222224eeeeeeeee44224444222202004444444444444444444444444222222222222015555
d9dd51dd55000dd6d67777d66666d005dd666dd6d100000000000222244eeeeeeeeeeee424444422222002444444444444444444444222222222222222201555
aa99451555005d5d677777666d666d015dd66ddd100000001002222244eeeeeeeeeeeeee44444422222000444444444444444444444222222222222222200151
494494051100d6d567777766766766500115ddd50000001550222224eeeeeeeeeeeeeeee42444422222000244444444444444444444222222222222222200110
9444940000056dd56777777d7766766500000000000000d51222224eeeeeeeeeeeeeeeee44444422222000044444444444444444442222222222222222200000
94449400001dddd66777777d6776d6661000000000011112222244eeeeeeeeeeeeeeeeee44244422222000024444444444444444422222222222222222200001
4949940000d6dd666677777667776d67d10000000155512422244eeeeeeeeeeeeeeeeeee4444444222200000444444444444444422222222222222222200001d
99949400056dd66666777776567777666d000001155551442244eeeeeeeeeeeeeeeeeeeee444444222200000144444444444444222222222222222222200001d
999449105dd566666677776ddd67777d661000555555514422eeeeeeeeeeeeeeeeeeeeeeee442442222000011144444444444422222222222222222220000005
999449105ddd666666776dd666667776ddd0015555555244424eeeeeeeeeeeeeeeeeeeeeee444242222000111124444444442222222222222222222200001155
994449100dddd676666d66766776d666ddd00015555552444424eeeeeeeeeeeeeeeeeeeeee444442222001111104444442222222222222222222222201515d55
__gff__
00000007000001010101010100000000011105150f0101000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
00450709020649a74a010806fffffff5a6090c0d3e0334033444240e0833090833090810ff060d0c06080b0e1b090c08070807080c08070e0c08090c0e060806080c0e061b030708111709060906090609066100807350495241cc2816100c120f0f96969696c81e194008c8202503120a182d341e2800781432070f03092207
042604220704070f22071020102220102009220e082008220e080e0c220e0c190c0009290806134203110d0910091f0d0608290e06071c060d111709150721060e0708070d1608110911080616090b090c1a08100907120b131b1201090c080e0c0210080616021a0e1b08160e0c08390e070e110b0c13070b1213062c38083d
0d0b0d0b1c160e4d08070618330080625245414b5448524f5547c82816323436383a50463c32281e8c4008c820130b010a182d341e2800000000000000002905020e02170f022905050e05170f052905080e08170f084a1601171424150a1514331018012614000e0c0906130718062b1a0810a0240e4d0b271b21074948636a
215112008270524953494fce1010010101010119191919191e3c4008c8200303020a2523d01ce30000000000000000370705020b08130806002b11130d10173e131f01091f008073484f5745d2151605080a0a0a1e1e1e1e1e013c4008c820031114111e1f20212214ff037f000000003000010713145b0105130301022b0112
1312260114131400060f16100c0e110d25060e11080609160d0f07040700806741554e544c45d428161e2820202ac8c8c8c8c81e3c4008c820010202050a0b0c0d0e14dc03500000000041010126143112010a260c311001010f14240e020e13241a021a13300004010814220302031422090109135205030306010359060201
030106590607010301060009112b0f120f120f1c750e07040d2531100e0b0809100d070215090713391806130608221e071710031113150d06010c0e1009100d130708160b0d070d0e0b0910070d130b08060d060305010e386206190613080a130a130f130f130f1d1f1700806a4149cc2816080e0f0f0cc8b4b496961e3c40
08c820090b0c0b0a0b0f0d0e00781432070f030954020209050404540302090504046914000134000b04170d270b051905210b061906540b050508030100060e0708060924170226111820080702131b081609110d1b0d1d070910090c170b090c130b090b09061d0c19060d06070907021509ff5a0c080c1207081109111207
06130d10270706090c0b1224081013690c0d43120708090706072d021f0e29081a1d550c0f0b1c10008072494e472041524f554e44204120524f53d928161e28323c46c8a07864501e784008c82001011304971ef695ce00000000000000004002020d0a58040a05010201580d030104010258040205010201241401140f2a19
0122014001010e0b006416260339261f2f0d201239680d330e064e221b18870e1407230c190e16170b0d0c09060d070b080c063059150c080b08073a1f4010120c06440c180b12290e0745070082634952434cc51010040404040419140f0f0f1e3c4008c82001020e0a9cf908fe880000000000000000300303030505300308
030a05300303070509300308070a09190503190a03180307180807000939171a05060f060515170c0511190c0a200800806641535420545241434bd328164b4b4b4b4ba08c7864501e3c4008c820260d010d461ba586360000000000000000300001012614530302110502045104021105020452030322050104400c010d0840
1c011d0859040101050104591401010501045924010105010430001109161422130a131353140a0105010251140b01050102191309001351210b221b10172a33305c0e511843240e200d16401a050b05970d0c0b17390e2e160e1b101b0d3e1a0e0c0d437912110d07420e200d2a17470c0e390f0721470e4809060951090080
6d4958454420444f55424c45d32816121b242d36c8b4a08c781e3c4008c820070a1e0f0102030405140100000000000059030304020709580403040207095703040402070957040404020709000d06011c10180b11080b080c080609250d1122012110180b1307210c090612071070180080734e414bc52816151813171b3c3c
3c3c3c023c4008c8200a0323120a0b0c0d0f030f000000000000410101261429010119012101022602170a02340009030b052109030b03631600010010120c0d0b0d0b0910120c211108071d2a082017250e0b130b0e1f131f22251734080c181b260b080609100d0c080c170080675249444c4f43cb28162324212522f0dcc8
aa961e3c4008c820150325060c0807090b145a03140000000054010624030106540601061206015003060603060650060306030606212601261421011426140006090c09080608070b08090c0810091b0816090d0b1c20090709100c180c0809115806130c0d130631070e0609080735100d0e07100e06070b1c0e0c0e06180d
1a120b170b08070811091a090b030e1008160b170b0e070e0718070b0e1207170b0d0c1710090c150807150907330839091b08060d0920150e06180d0c09150d0e1106130d1a0e0b0d0c170b080e060907080b0c270710080c1c1a0e060c1206120c0b090607091b0d0c060d1f0105032f33200e060e1a310c0f0b0e07130708
0c0d110f070b07090c090c0e0c060d06170c0e0c0d0e3417110d110816090c130082735452495045d3101002020202021e191414141e3c4008c82001020e07a3475e7ae40000000000000000700000101029090e0d0a2903020807510201070e0201130a07130c07004309191c06080b01110080634f4d42494e4154494fce28
160014142832c8c8c8c8b41e3c4008c8ff0213020d898c64fb3314ff037f0000000037140110261452020113090202510202130902022b011226124101132614412501261400013e03070307031b0311030703073211030c03251d102c0c35ab13060080745245c528161515151515c8b4a08c781e3c4008c820141114130f10
111213143c0000000000004001012614410202250d70010e261459020e09010201590114130102013100130e151453050207030504000807120b1d110d06130b07130811060d161d06080626061213151222152c1a171a2c661718341c07170b18150c12060d0b0815071207171d292d130c0f0d321c060d0080634f434f4f4e
d328162424242424c896857d780a3c4008c820031226031bfcb16bb8000000000000000031000306090c18040817060534100c06120f240c101210700d07110b210d0611065c0c0604010201180d08110f07170f067013081c10310015091b0f2414091b0918160b17180117180331001e06240c181f08171e07251e0c240c25
1e0d240d0011860b26160810080c06171613073b0c1c0c17310b1705110d0b09070d1d0c180c1c0c0b0e160907180c0b0e0c210b0d060d07080616081a520b0e07130c0613070609060726292c251a08730b0c17100d0b080c060d2c341d00807350454c554e4b494ec72816140f110f14c8c8c8c8c81e3c4008c8200302140b
0a0b0c0d0e00bd14b3031300004101012614000939120708182508095262290907060806090609041109020c0e46071e010f09020f0609140c0b1406070f0e0f070f060910010c090706090d0b0e0f0806070e0609100e075a080b030c091009080c0e37080b183d1c0603060e06080b03182462201e09011408111409071909
15090b08090c060e0806190c0e080b4b080607090709070e08060e07091e1509080e0b1707063b70120608102100827249474854204f4e452053504143c51010010101010114141414141e3c4008c82002010b09ec42dcf9b9000000000000000030140605080730030a020c04190c02490a080c0a220c080c0a00302002060e
10181b0d0c090a09070d0c1c100e000000090a09070d0c1c100e000000302002060e10181b0d0c090a09070d0c1c100e0000001010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
1310101010101010101010101010101010101010101010101010101010101010131010101010101010101010101010101010101010101010101010101010101013101010101010101010101010101010101010101010101010101010101010101310101010101010101010101010101010101010101010101010101010101010
__sfx__
4a0600001c67120661186510000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
140800003f75500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
480200003f6703f6703a67036670346702c6701d670016700e6500e6500e6500e6400e6400e6300e6300e6300e6300e6300e6300e6300e6300d6300d6200d6200d6200c6200c6200c6200c6100d6100c6100d600
18020800335772f577245771957704000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000
020800002a6352a6051d6351d60512605000050000500005000050000500005000050000500005000050000500005000050000500005000050000500005000050000500005000050000500005000050000000000
780508000317206172081720a1720a1720a1720020000201002010020100201002010020100201002010020100201002010020100201002010020100201002010020100201002010020100201002010020100201
7a0709003e6313c651376613264127621000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7a0709002663131651376613c6413f621000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
160303000575101721000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
b00a0020045460754609546025460b5460454605546005460954602546045460554608546055460b54602546075460054606546045460754609546025460b54604546055460254609546045460b5460054607546
400a0010210221d02218022150221f0221b0221602215022210221d02218022150221f0221b022160221502200000000000000000000000000000000000000000000000000000000000000000000000000000000
010f00000c5750c515000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
010f00001057510515000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
31110000105751051500000000000c5550c51500000000000854208512000000000004532045120000000000015120151200000000000c5050c5050000000000105051050500000000000c5050c5050000000000
7a0900203b7253e72531725377253a725377253c725377253f72536725357253f725397253172535725397253d725337253b7253172532725337253b7253e725367253b7253d725357253e7253a7253572535725
0008000011151181511d1512014500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
480200001d6712c6712566122661206611b651166310f621000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00140000110552d055110552e0551d0552d055110552e0550f0552d0550e0552e0551a0552b0550e0552c0552905524055210551d05527055220551f0550e055300552d0552905524055220551f0551b0550e055
00140000291552915529155291552915529155291552915529155291552915529155271552615526155261552d1552915524155211552b15527155221551a1552d1552915524155211552b15527155221551a155
00140000110552d055110552e0551d0552d055110552e0550f0552d0550e0552e0551a0552b0550e0552c055110551105511055300551d0551d055110552c0550f0550e0550e0550e0551a0551a0550e0550e055
0014000029155291552915529155291552915529155291552915529155291552915527155261552615526155291553515529155331552915532155291553015527155321552615532155261552e1552615532155
001400000f0550e0550e0550e055170551705517055170550c055240550c055240550a055090551105511055110551105511055110551d0551d05511055110550f0550e0550e0550e0551a0551a0550e0550e055
001400001b15526155161551d1552315532155261552315518155281551a1552915522155211552d1552115529155291552915529155291552915529155291552915529155291552915529155291552915529155
0014000011055180551d055200550f0551a0551b055220550d0550c055180550c0551b0552e0551c0552c055110551105511055110550f0550e0550e0550e0551105511055110551105519055180551805518055
011400001d1552115524155291551f15522155241552b1552515527155291552c155261553215528155301551d15529155181551f1551b1552b1551f1551a1551d15529155181551f15525155351552915524155
__music__
01 3f3e7f7f
00 3d3c7f7f
00 3b3a7f7f
02 39387f7f
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
00 40404040
__meta:4f78820c-0dc1-11ed-861d-0242ac120002__
@5f10
000102030405060708090a0b0c0d810f
@5600
0405070000010000000000000060770067200061770006060000000000667707010000006007270000000020007070000000001060002011100010210000067133331311133312133313333311313333520071750717377777667650661712737707770177776677017707770100700077077701777766770000007001007070
0007070707070000000007070700000000000705070000000000050205000000000005000500000000000505050000000004060706040000000103070301000000070101010000000000040404070000000507020702000000000001000000000000000001020000000000000303000000050500000000000000000000000000
000000000000000000010101000100000005050000000000000a1f0a1f0a0000000207030607020000050402010500000002050e050e0000000101000000000000020101010200000001020202010000000502070205000000000207020000000000000000010100000000070000000000000000000100000004040201010000
0002050505020000000203020207000000030402010700000003040204030000000505070404000000070103040300000006010305020000000704040202000000020502050200000002050604030000000001000100000000000001000101000000020102000000000003000300000000000102010000000003040200020000
0006090d0106000000000306050700000001030505030000000006010106000000040605050600000000020503060000000402070202000000000605060403000001010305050000000100010101000000020002020201000001050305050000000101010102000000000f151515000000000305050500000000020505020000
000003050503010000000605050604000000030501010000000006030603000000020702020600000000050505020000000005050503000000001111150a000000000502050500000000050505060300000007060307000000030101010300000001020202040000000302020203000000020500000000000000000000070000
0002040000000000000205070505000000030503050300000006010101060000000305050503000000070103010700000007010301010000000e010d090600000005050705050000000101010101000000040404050200000005050305050000000101010107000000111b151111000000090b0f0d0900000006090909060000
0003050301010000000609090d06080000030503050500000006010204030000000702020202000000090909090600000009090905020000001111151b1100000005050205050000000505020202000000070402010700000006020102060000000101000101000000030204020300000000000a050000000003030000000000
007f7f7f7f7f7f0000552a552a552a0000417f5d5d3e0000003e6363773e0000001144114411440000021e0e0f080000000e171f1f0e0000001b1f1f0e040000001c3677361c0000000e0e1f0e0a0000001c3e7f2a3a0000003e6763673e0000003f2d3f213f0000001c040407070000003e636b633e000000040e1f0e040000
0000005500000000003e7363733e000000081c7f3e220000001f0e040e1f0000003e7763633e000000000552200000000000112a44000000003e6b776b3e0000001f001f001f00000015151515150000040e1f00000000003255375433007f006215171463007f003255575433007f007215771473007f007215771413007f00
020505022818280000000100010101000000040e050e0400000c0207020f000000110e0a0e110000050502070200000000010100010100000006030506030000050000000000000006090d09060000000003060507000000000012091200000000000007040000003255575535007f0003050305000000000007000000000000
000205020000000000020702000700000302010300000000010302010000000000020100000000000000000505030100000f0b0b0a0a000000000001000000000000000000020300020302020000000002050200000000000000091209000000001109052a3920000011091d120918000021130a557240000000020002010600
0204030605070000020103060507000002050306050700000a050306050700000500030605070000020003060507000000000b160d1f00000000000e010e040002040205030600000201020503060000020502050306000005000205030600000102000002020000020100000101000002050000020200000500000002020000
000e1217120e00000a050007090900000102000205020000040200020502000002050002050200000a050006090600000500000205020000000005020500000000100e15120d0000020400090906000004020009090600000609000909060000090000090906000004020005050603000001050b0b0501000006090509050000
0204020507050000020102050705000002050205070500000a0506090f09000005000205070500000200020507050000001e050f051d0000000e0101010e040002040703010700000201070301070000020507030107000005000703010700000102000202020000020100010101000002050002020200000500000202020000
02050e09090600000a05090b0d0900000204060909060000040206090906000002050609090600000a050609090600000900060909060000000200070002000000160915120d00000204090909060000040209090906000002050809090600000900090909060000040205050202000000010709090701000500050502020000
__meta:1bdaec14-d23c-4c68-9cbb-45d80342eabf__
{
	["pico8"] = {
		["binaryOptions"] = "-i 69 -s 1 ",
	},
}
